import{S as Ve,i as je,s as Ce,C as ie,_ as C,$ as H,a as g,d as m,b as f,a0 as de,g as L,I as p,z as Ie,E as ce,a1 as ve,l as O,o as w,p as fe,q as E,Y as oe,a9 as Se,n as ue,e as P,w as q,k as M,t as F,c as V,x as G,m as B,h as J,y as U,B as x,a2 as Ze,Z as De,U as pe,V as _e,j as se}from"../../chunks/index-d77dc8df.js";import{p as Te}from"../../chunks/stores-85cb9109.js";import{B as Ae}from"../../chunks/Badge-67d98a17.js";import{B as He}from"../../chunks/Button-e3650c0e.js";import{P as Ne}from"../../chunks/ProjectCard-7946dcc0.js";import{a as te}from"../../chunks/ago-a4836e85.js";import{s as ge}from"../../chunks/api-22161ac7.js";import{b as be}from"../../chunks/parse-f51b9449.js";import{p as $e}from"../../chunks/app-8b88eb34.js";import{E as Oe}from"../../chunks/eye-5701f700.js";import{T as Le}from"../../chunks/trash-86c5620f.js";import{C as Me}from"../../chunks/calendar-d27b5f4f.js";import{b as Ye}from"../../chunks/formatters-45a0f877.js";/* empty css                                                       */import"../../chunks/tags-d87340e0.js";import"../../chunks/number-ce492f5e.js";import"../../chunks/ProfilePicture-a9d2d293.js";import"../../chunks/download-f139143f.js";import"../../chunks/heart-4550539d.js";import"../../chunks/axios-9833b136.js";import"../../chunks/index-68131452.js";function qe(o){let e,a,l,t,i,n,s,r,u,_,b,v=[{viewBox:"0 0 648 632"},o[0]],d={};for(let c=0;c<v.length;c+=1)d=ie(d,v[c]);return{c(){e=C("svg"),a=C("path"),l=C("path"),t=C("path"),i=C("circle"),n=C("circle"),s=C("path"),r=C("path"),u=C("path"),_=C("circle"),b=C("circle"),this.h()},l(c){e=H(c,"svg",{viewBox:!0});var h=g(e);a=H(h,"path",{fill:!0,d:!0}),g(a).forEach(m),l=H(h,"path",{fill:!0,d:!0}),g(l).forEach(m),t=H(h,"path",{fill:!0,d:!0}),g(t).forEach(m),i=H(h,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),g(i).forEach(m),n=H(h,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),g(n).forEach(m),s=H(h,"path",{fill:!0,d:!0}),g(s).forEach(m),r=H(h,"path",{fill:!0,d:!0}),g(r).forEach(m),u=H(h,"path",{fill:!0,d:!0}),g(u).forEach(m),_=H(h,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),g(_).forEach(m),b=H(h,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),g(b).forEach(m),h.forEach(m),this.h()},h(){f(a,"fill","var(--color-raised-bg)"),f(a,"d","M411 142H237a15 15 0 0 0-15 15v388l-2 1-43 13a8 8 0 0 1-10-6L39 137a8 8 0 0 1 6-10l66-20 191-58 66-20a8 8 0 0 1 10 5l33 106Z"),f(l,"fill","var(--color-text-light)"),f(l,"d","M449 140 410 12a17 17 0 0 0-21-11l-93 28-191 59-93 28a17 17 0 0 0-11 21l134 438a17 17 0 0 0 16 12 17 17 0 0 0 5 0l64-20 2-1v-2l-2 1-65 20a15 15 0 0 1-18-10L3 137a15 15 0 0 1 10-19l92-28 192-59 92-28a15 15 0 0 1 5-1 15 15 0 0 1 14 11l39 127 1 2h2Z"),f(t,"fill","var(--color-brand)"),f(t,"d","M123 128a9 9 0 0 1-9-7l-13-42a9 9 0 0 1 6-11l176-54a9 9 0 0 1 11 6l13 42a9 9 0 0 1-6 12l-176 53a9 9 0 0 1-2 1Z"),f(i,"cx","190.2"),f(i,"cy","25"),f(i,"r","20"),f(i,"fill","var(--color-brand)"),f(n,"cx","190.2"),f(n,"cy","25"),f(n,"r","12.7"),f(n,"fill","var(--color-raised-bg)"),f(s,"fill","var(--color-raised-bg)"),f(s,"d","M603 582H265a9 9 0 0 1-9-8V169a9 9 0 0 1 9-9h338a9 9 0 0 1 8 9v405a9 9 0 0 1-8 8Z"),f(r,"fill","var(--color-text-light)"),f(r,"d","M447 140H237a17 17 0 0 0-17 17v408l2-1V157a15 15 0 0 1 15-15h211Zm184 0H237a17 17 0 0 0-17 17v458a17 17 0 0 0 17 17h394a17 17 0 0 0 17-17V157a17 17 0 0 0-17-17Zm15 475a15 15 0 0 1-15 15H237a15 15 0 0 1-15-15V157a15 15 0 0 1 15-15h394a15 15 0 0 1 15 15Z"),f(u,"fill","var(--color-brand)"),f(u,"d","M526 184H342a9 9 0 0 1-9-9v-44a9 9 0 0 1 9-9h184a9 9 0 0 1 9 9v44a9 9 0 0 1-9 9Z"),f(_,"cx","433.6"),f(_,"cy","105.2"),f(_,"r","20"),f(_,"fill","var(--color-brand)"),f(b,"cx","433.6"),f(b,"cy","105.2"),f(b,"r","12.2"),f(b,"fill","var(--color-raised-bg)"),de(e,d)},m(c,h){L(c,e,h),p(e,a),p(e,l),p(e,t),p(e,i),p(e,n),p(e,s),p(e,r),p(e,u),p(e,_),p(e,b)},p(c,[h]){de(e,d=Ie(v,[{viewBox:"0 0 648 632"},h&1&&c[0]]))},i:ce,o:ce,d(c){c&&m(e)}}}function Ge(o,e,a){return o.$$set=l=>{a(0,e=ie(ie({},e),ve(l)))},e=ve(e),[e]}class Ue extends Ve{constructor(e){super(),je(this,e,Ge,qe,Ce,{})}}function ye(o,e,a){const l=o.slice();return l[11]=e[a],l}function xe(o){let e,a,l,t,i,n;return a=new Ue({props:{class:"illustration__image"}}),{c(){e=P("div"),q(a.$$.fragment),l=M(),t=P("p"),i=F("You are up to date!"),this.h()},l(s){e=V(s,"DIV",{class:!0});var r=g(e);G(a.$$.fragment,r),l=B(r),t=V(r,"P",{class:!0});var u=g(t);i=J(u,"You are up to date!"),u.forEach(m),r.forEach(m),this.h()},h(){f(t,"class","illustration__description"),f(e,"class","illustration")},m(s,r){L(s,e,r),U(a,e,null),p(e,l),p(e,t),p(t,i),n=!0},p:ce,i(s){n||(E(a.$$.fragment,s),n=!0)},o(s){w(a.$$.fragment,s),n=!1},d(s){s&&m(e),x(a)}}}function ze(o){let e,a,l=o[0],t=[];for(let n=0;n<l.length;n+=1)t[n]=Ee(ye(o,l,n));const i=n=>w(t[n],1,1,()=>{t[n]=null});return{c(){for(let n=0;n<t.length;n+=1)t[n].c();e=O()},l(n){for(let s=0;s<t.length;s+=1)t[s].l(n);e=O()},m(n,s){for(let r=0;r<t.length;r+=1)t[r].m(n,s);L(n,e,s),a=!0},p(n,s){if(s&15){l=n[0];let r;for(r=0;r<l.length;r+=1){const u=ye(n,l,r);t[r]?(t[r].p(u,s),E(t[r],1)):(t[r]=Ee(u),t[r].c(),E(t[r],1),t[r].m(e.parentNode,e))}for(ue(),r=l.length;r<t.length;r+=1)i(r);fe()}},i(n){if(!a){for(let s=0;s<l.length;s+=1)E(t[s]);a=!0}},o(n){t=t.filter(Boolean);for(let s=0;s<t.length;s+=1)w(t[s]);a=!1},d(n){Ze(t,n),n&&m(e)}}}function Xe(o){let e,a;return e=new Ne({props:{project:o[11],$$slots:{actions:[Je]},$$scope:{ctx:o}}}),{c(){q(e.$$.fragment)},l(l){G(e.$$.fragment,l)},m(l,t){U(e,l,t),a=!0},p(l,t){const i={};t&1&&(i.project=l[11]),t&16387&&(i.$$scope={dirty:t,ctx:l}),e.$set(i)},i(l){a||(E(e.$$.fragment,l),a=!0)},o(l){w(e.$$.fragment,l),a=!1},d(l){x(e,l)}}}function Fe(o){let e,a,l,t,i=o[11].item_type+"",n,s,r,u=o[11].item_id+"",_,b,v,d,c=o[11].reporter+"",h,I,S,z,j,re,T,A,ae,N,Y,le,X,K=o[1]("stats.created",{values:{ago:te(o[11].created)}})+"",ne,Z,$=o[11].body&&ke(o);j=new Ae({props:{label:"Marked as "+o[11].report_type,color:"yellow"}});function Be(){return o[6](o[11])}return A=new He({props:{label:"Delete report",icon:Le}}),A.$on("click",Be),Y=new Me({}),{c(){e=P("div"),a=P("div"),l=P("div"),t=P("h3"),n=F(i),s=M(),r=P("a"),_=F(u),v=F(`
                        reported by`),d=P("a"),h=F(c),S=M(),$&&$.c(),z=M(),q(j.$$.fragment),re=M(),T=P("div"),q(A.$$.fragment),ae=M(),N=P("span"),q(Y.$$.fragment),le=M(),X=new pe(!1),ne=M(),this.h()},l(k){e=V(k,"DIV",{class:!0});var y=g(e);a=V(y,"DIV",{class:!0});var D=g(a);l=V(D,"DIV",{class:!0});var Q=g(l);t=V(Q,"H3",{class:!0});var R=g(t);n=J(R,i),s=B(R),r=V(R,"A",{href:!0,class:!0});var me=g(r);_=J(me,u),me.forEach(m),R.forEach(m),v=J(Q,`
                        reported by`),d=V(Q,"A",{href:!0,class:!0});var he=g(d);h=J(he,c),he.forEach(m),Q.forEach(m),S=B(D),$&&$.l(D),z=B(D),G(j.$$.fragment,D),D.forEach(m),re=B(y),T=V(y,"DIV",{class:!0});var W=g(T);G(A.$$.fragment,W),ae=B(W),N=V(W,"SPAN",{class:!0});var ee=g(N);G(Y.$$.fragment,ee),le=B(ee),X=_e(ee,!1),ee.forEach(m),W.forEach(m),ne=B(y),y.forEach(m),this.h()},h(){f(r,"href",b=o[11].url),f(r,"class","svelte-4cpxy0"),f(t,"class","svelte-4cpxy0"),f(d,"href",I="/user/"+o[11].reporter),f(d,"class","svelte-4cpxy0"),f(l,"class","report__info__title svelte-4cpxy0"),f(a,"class","report__info svelte-4cpxy0"),X.a=null,f(N,"class","stat"),f(T,"class","actions svelte-4cpxy0"),f(e,"class","card report svelte-4cpxy0")},m(k,y){L(k,e,y),p(e,a),p(a,l),p(l,t),p(t,n),p(t,s),p(t,r),p(r,_),p(l,v),p(l,d),p(d,h),p(a,S),$&&$.m(a,null),p(a,z),U(j,a,null),p(e,re),p(e,T),U(A,T,null),p(T,ae),p(T,N),U(Y,N,null),p(N,le),X.m(K,N),p(e,ne),Z=!0},p(k,y){o=k,(!Z||y&1)&&i!==(i=o[11].item_type+"")&&se(n,i),(!Z||y&1)&&u!==(u=o[11].item_id+"")&&se(_,u),(!Z||y&1&&b!==(b=o[11].url))&&f(r,"href",b),(!Z||y&1)&&c!==(c=o[11].reporter+"")&&se(h,c),(!Z||y&1&&I!==(I="/user/"+o[11].reporter))&&f(d,"href",I),o[11].body?$?$.p(o,y):($=ke(o),$.c(),$.m(a,z)):$&&($.d(1),$=null);const D={};y&1&&(D.label="Marked as "+o[11].report_type),j.$set(D),(!Z||y&3)&&K!==(K=o[1]("stats.created",{values:{ago:te(o[11].created)}})+"")&&X.p(K)},i(k){Z||(E(j.$$.fragment,k),E(A.$$.fragment,k),E(Y.$$.fragment,k),Z=!0)},o(k){w(j.$$.fragment,k),w(A.$$.fragment,k),w(Y.$$.fragment,k),Z=!1},d(k){k&&m(e),$&&$.d(),x(j),x(A),x(Y)}}}function Je(o){let e,a,l,t,i,n,s,r=o[1]("stats.created",{values:{ago:te(o[11].published)}})+"",u,_;function b(){return o[7](o[11])}return a=new He({props:{label:"Change status",icon:Oe}}),a.$on("click",b),i=new Me({}),{c(){e=P("div"),q(a.$$.fragment),l=M(),t=P("span"),q(i.$$.fragment),n=M(),s=new pe(!1),u=M(),this.h()},l(v){e=V(v,"DIV",{slot:!0,class:!0});var d=g(e);G(a.$$.fragment,d),l=B(d),t=V(d,"SPAN",{class:!0});var c=g(t);G(i.$$.fragment,c),n=B(c),s=_e(c,!1),c.forEach(m),u=B(d),d.forEach(m),this.h()},h(){s.a=null,f(t,"class","stat"),f(e,"slot","actions"),f(e,"class","actions")},m(v,d){L(v,e,d),U(a,e,null),p(e,l),p(e,t),U(i,t,null),p(t,n),s.m(r,t),p(e,u),_=!0},p(v,d){o=v,(!_||d&3)&&r!==(r=o[1]("stats.created",{values:{ago:te(o[11].published)}})+"")&&s.p(r)},i(v){_||(E(a.$$.fragment,v),E(i.$$.fragment,v),_=!0)},o(v){w(a.$$.fragment,v),w(i.$$.fragment,v),_=!1},d(v){v&&m(e),x(a),x(i)}}}function ke(o){let e,a=be(o[11].body)+"",l;return{c(){e=new pe(!1),l=O(),this.h()},l(t){e=_e(t,!1),l=O(),this.h()},h(){e.a=l},m(t,i){e.m(a,t,i),L(t,l,i)},p(t,i){i&1&&a!==(a=be(t[11].body)+"")&&e.p(a)},d(t){t&&m(l),t&&e.d()}}}function Ee(o){let e,a,l,t;const i=[Fe,Xe],n=[];function s(r,u){return r[11].moderation_type==="report"?0:1}return e=s(o),a=n[e]=i[e](o),{c(){a.c(),l=O()},l(r){a.l(r),l=O()},m(r,u){n[e].m(r,u),L(r,l,u),t=!0},p(r,u){let _=e;e=s(r),e===_?n[e].p(r,u):(ue(),w(n[_],1,1,()=>{n[_]=null}),fe(),a=n[e],a?a.p(r,u):(a=n[e]=i[e](r),a.c()),E(a,1),a.m(l.parentNode,l))},i(r){t||(E(a),t=!0)},o(r){w(a),t=!1},d(r){n[e].d(r),r&&m(l)}}}function Ke(o){let e,a,l,t;const i=[ze,xe],n=[];function s(r,u){return r[0].length>0?0:1}return e=s(o),a=n[e]=i[e](o),{c(){a.c(),l=O()},l(r){a.l(r),l=O()},m(r,u){n[e].m(r,u),L(r,l,u),t=!0},p(r,[u]){let _=e;e=s(r),e===_?n[e].p(r,u):(ue(),w(n[_],1,1,()=>{n[_]=null}),fe(),a=n[e],a?a.p(r,u):(a=n[e]=i[e](r),a.c()),E(a,1),a.m(l.parentNode,l))},i(r){t||(E(a),t=!0)},o(r){w(a),t=!1},d(r){n[e].d(r),r&&m(l)}}}function we(o,e,a,l,t,i,n){try{var s=o[i](n),r=s.value}catch(u){a(u);return}s.done?e(r):Promise.resolve(r).then(l,t)}function Pe(o){return function(){var e=this,a=arguments;return new Promise(function(l,t){var i=o.apply(e,a);function n(r){we(i,l,t,n,s,"next",r)}function s(r){we(i,l,t,n,s,"throw",r)}n(void 0)})}}function Qe(o,e,a){let l,t,i;oe(o,$e,c=>a(10,l=c)),oe(o,Te,c=>a(5,t=c)),oe(o,Ye,c=>a(1,i=c));function n(){return n=Object.assign?Object.assign.bind():function(c){for(var h=1;h<arguments.length;h++){var I=arguments[h];for(var S in I)Object.prototype.hasOwnProperty.call(I,S)&&(c[S]=I[S])}return c},n.apply(this,arguments)}var s=Se("items"),r;function u(c){return _.apply(this,arguments)}function _(){return _=Pe(function*(c){De($e,l=[{title:"Change project status",type:{moderation:{id:c}},button:{label:"Confirm",click:function(){var h=Pe(function*(S){var{status:z,body:j}=S;yield ge("PATCH","project/"+c,n({status:z},j?{moderation_message:"Moderator message",moderation_message_body:j}:{})),b(c)});function I(S){return h.apply(this,arguments)}return I}()}},...l],l)}),_.apply(this,arguments)}function b(c){a(4,s=s.filter(h=>h.id!==c))}const v=async c=>{await ge("DELETE",`report/${c.id}`),b(c.id)},d=c=>u(c.id);return o.$$.update=()=>{o.$$.dirty&48&&a(0,r=s.filter(c=>t.url.searchParams.get("type")?c.moderation_type===t.url.searchParams.get("type"):!0))},[r,i,u,b,s,t,v,d]}class bt extends Ve{constructor(e){super(),je(this,e,Qe,Ke,Ce,{})}}export{bt as default};
