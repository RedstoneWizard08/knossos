import{S as at,i as it,s as ot,C as ke,_ as yt,$ as Mt,a as j,d as f,a0 as Ne,g as H,z as jt,E as ve,a1 as Ge,e as y,c as M,b as C,o as b,p as De,q as $,w as T,x as V,y as S,B as U,a3 as Bt,k as w,t as se,m as k,h as le,I as m,j as Be,a5 as Dt,a6 as Ht,a7 as At,Y as vt,r as It,n as He,l as Le,M as et,O as tt,P as rt}from"../../../chunks/index-d77dc8df.js";import{s as st}from"../../../chunks/api-22161ac7.js";import{A as Tt}from"../../../chunks/Ad-b5d0d849.js";import{B as Vt}from"../../../chunks/Badge-67d98a17.js";import{B as ge}from"../../../chunks/Button-e3650c0e.js";import{I as nt}from"../../../chunks/Input-3093cfe1.js";import{N as St}from"../../../chunks/Nav-d48a6773.js";import{P as Ut}from"../../../chunks/ProfilePicture-a9d2d293.js";import{M as qt}from"../../../chunks/Meta-3a496eb2.js";import{p as gt}from"../../../chunks/tags-d87340e0.js";import{a as $t}from"../../../chunks/ago-a4836e85.js";import{G as Ct,c as Rt,U as Nt}from"../../../chunks/create-a5da8bfa.js";import{s as Re}from"../../../chunks/number-ce492f5e.js";import{F as Gt,r as Lt}from"../../../chunks/flag-3f2c49c5.js";import{u as bt}from"../../../chunks/axios-9833b136.js";import{D as Ot}from"../../../chunks/download-f139143f.js";import{P as zt}from"../../../chunks/pencil-d3afbb94.js";import{P as Yt}from"../../../chunks/plus-f499d303.js";import{X as Ft}from"../../../chunks/x-f4a5dec2.js";import{H as Zt}from"../../../chunks/heart-4550539d.js";import{S as Xt}from"../../../chunks/save-e8d16d6a.js";import{b as Jt}from"../../../chunks/formatters-45a0f877.js";import"../../../chunks/index-68131452.js";/* empty css                                                          */import"../../../chunks/check-aff0c417.js";import"../../../chunks/stores-85cb9109.js";import"../../../chunks/app-8b88eb34.js";function Kt(s){let e,r='<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 15.546c-.523 0-1.046.151-1.5.454a2.704 2.704 0 0 1-3 0a2.704 2.704 0 0 0-3 0a2.704 2.704 0 0 1-3 0a2.704 2.704 0 0 0-3 0a2.704 2.704 0 0 1-3 0a2.701 2.701 0 0 0-1.5-.454M9 6v2m3-2v2m3-2v2M9 3h.01M12 3h.01M15 3h.01M21 21v-7a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v7h18Zm-3-9v-2a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v2h12Z"/>',t=[{width:"1.2em"},{height:"1.2em"},{preserveAspectRatio:"xMidYMid meet"},{viewBox:"0 0 24 24"},s[0]],i={};for(let n=0;n<t.length;n+=1)i=ke(i,t[n]);return{c(){e=yt("svg"),this.h()},l(n){e=Mt(n,"svg",{width:!0,height:!0,preserveAspectRatio:!0,viewBox:!0});var l=j(e);l.forEach(f),this.h()},h(){Ne(e,i)},m(n,l){H(n,e,l),e.innerHTML=r},p(n,[l]){Ne(e,i=jt(t,[{width:"1.2em"},{height:"1.2em"},{preserveAspectRatio:"xMidYMid meet"},{viewBox:"0 0 24 24"},l&1&&n[0]]))},i:ve,o:ve,d(n){n&&f(e)}}}function Qt(s,e,r){return s.$$set=t=>{r(0,e=ke(ke({},e),Ge(t)))},e=Ge(e),[e]}class Wt extends at{constructor(e){super(),it(this,e,Qt,Kt,ot,{})}}function xt(s){let e,r='<g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2"><path d="M20 21v-2a4 4 0 0 0-4-4H8a4 4 0 0 0-4 4v2"/><circle cx="12" cy="7" r="4"/></g>',t=[{width:"1.2em"},{height:"1.2em"},{preserveAspectRatio:"xMidYMid meet"},{viewBox:"0 0 24 24"},s[0]],i={};for(let n=0;n<t.length;n+=1)i=ke(i,t[n]);return{c(){e=yt("svg"),this.h()},l(n){e=Mt(n,"svg",{width:!0,height:!0,preserveAspectRatio:!0,viewBox:!0});var l=j(e);l.forEach(f),this.h()},h(){Ne(e,i)},m(n,l){H(n,e,l),e.innerHTML=r},p(n,[l]){Ne(e,i=jt(t,[{width:"1.2em"},{height:"1.2em"},{preserveAspectRatio:"xMidYMid meet"},{viewBox:"0 0 24 24"},l&1&&n[0]]))},i:ve,o:ve,d(n){n&&f(e)}}}function er(s,e,r){return s.$$set=t=>{r(0,e=ke(ke({},e),Ge(t)))},e=Ge(e),[e]}class tr extends at{constructor(e){super(),it(this,e,er,xt,ot,{})}}function ht(s){let e,r,t,i;const n=[nr,rr],l=[];function p(u,d){var c;return u[0].id===((c=u[5])==null?void 0:c.id)?0:1}return r=p(s),t=l[r]=n[r](s),{c(){e=y("div"),t.c(),this.h()},l(u){e=M(u,"DIV",{class:!0});var d=j(e);t.l(d),d.forEach(f),this.h()},h(){C(e,"class","button-group")},m(u,d){H(u,e,d),l[r].m(e,null),i=!0},p(u,d){let c=r;r=p(u),r===c?l[r].p(u,d):(He(),b(l[c],1,1,()=>{l[c]=null}),De(),t=l[r],t?t.p(u,d):(t=l[r]=n[r](u),t.c()),$(t,1),t.m(e,null))},i(u){i||($(t),i=!0)},o(u){b(t),i=!1},d(u){u&&f(e),l[r].d()}}}function rr(s){let e,r;return e=new ge({props:{label:"Report",icon:Gt}}),e.$on("click",s[15]),{c(){T(e.$$.fragment)},l(t){V(e.$$.fragment,t)},m(t,i){S(e,t,i),r=!0},p:ve,i(t){r||($(e.$$.fragment,t),r=!0)},o(t){b(e.$$.fragment,t),r=!1},d(t){U(e,t)}}}function nr(s){let e,r,t,i;const n=[lr,sr],l=[];function p(u,d){return u[3]?0:1}return e=p(s),r=l[e]=n[e](s),{c(){r.c(),t=Le()},l(u){r.l(u),t=Le()},m(u,d){l[e].m(u,d),H(u,t,d),i=!0},p(u,d){let c=e;e=p(u),e===c?l[e].p(u,d):(He(),b(l[c],1,1,()=>{l[c]=null}),De(),r=l[e],r?r.p(u,d):(r=l[e]=n[e](u),r.c()),$(r,1),r.m(t.parentNode,t))},i(u){i||($(r),i=!0)},o(u){b(r),i=!1},d(u){l[e].d(u),u&&f(t)}}}function sr(s){let e,r;return e=new ge({props:{label:"Edit",icon:zt}}),e.$on("click",s[11]),{c(){T(e.$$.fragment)},l(t){V(e.$$.fragment,t)},m(t,i){S(e,t,i),r=!0},p:ve,i(t){r||($(e.$$.fragment,t),r=!0)},o(t){b(e.$$.fragment,t),r=!1},d(t){U(e,t)}}}function lr(s){let e,r,t,i;return e=new ge({props:{label:"Save",icon:Xt,color:"brand"}}),e.$on("click",s[12]),t=new ge({props:{label:"Cancel",icon:Ft}}),t.$on("click",s[12]),{c(){T(e.$$.fragment),r=w(),T(t.$$.fragment)},l(n){V(e.$$.fragment,n),r=k(n),V(t.$$.fragment,n)},m(n,l){S(e,n,l),H(n,r,l),S(t,n,l),i=!0},p:ve,i(n){i||($(e.$$.fragment,n),$(t.$$.fragment,n),i=!0)},o(n){b(e.$$.fragment,n),b(t.$$.fragment,n),i=!1},d(n){U(e,n),n&&f(r),U(t,n)}}}function ar(s){let e,r,t,i;e=new Vt({props:{label:s[6]("roles."+s[0].role),color:s[10][s[0].role]}});let n=s[0].bio&&wt(s);return{c(){T(e.$$.fragment),r=w(),n&&n.c(),t=Le()},l(l){V(e.$$.fragment,l),r=k(l),n&&n.l(l),t=Le()},m(l,p){S(e,l,p),H(l,r,p),n&&n.m(l,p),H(l,t,p),i=!0},p(l,p){const u={};p&65&&(u.label=l[6]("roles."+l[0].role)),p&1&&(u.color=l[10][l[0].role]),e.$set(u),l[0].bio?n?n.p(l,p):(n=wt(l),n.c(),n.m(t.parentNode,t)):n&&(n.d(1),n=null)},i(l){i||($(e.$$.fragment,l),i=!0)},o(l){b(e.$$.fragment,l),i=!1},d(l){U(e,l),l&&f(r),n&&n.d(l),l&&f(t)}}}function ir(s){let e,r,t,i,n,l,p,u,d,c,G,v,R,L,O,E,J,P,q,K,N,Q;function F(o){s[16](o)}let Z={type:"text",placeholder:"Enter username..."};s[4].username!==void 0&&(Z.value=s[4].username),i=new nt({props:Z}),et.push(()=>tt(i,"value",F));function _(o){s[17](o)}let D={type:"textarea",placeholder:"Add a bio..."};s[4].bio!==void 0&&(D.value=s[4].bio),c=new nt({props:D}),et.push(()=>tt(c,"value",_));function W(o){s[18](o)}let x={type:"text",placeholder:"Add a bio..."};return s[4].email!==void 0&&(x.value=s[4].email),P=new nt({props:x}),et.push(()=>tt(P,"value",W)),N=new ge({props:{label:"Upload avatar",icon:Nt}}),{c(){e=y("b"),r=se("Username"),t=w(),T(i.$$.fragment),l=w(),p=y("b"),u=se("Bio"),d=w(),T(c.$$.fragment),v=w(),R=y("p"),L=y("b"),O=se("Private email"),E=se(" (only for moderators)"),J=w(),T(P.$$.fragment),K=w(),T(N.$$.fragment)},l(o){e=M(o,"B",{});var h=j(e);r=le(h,"Username"),h.forEach(f),t=k(o),V(i.$$.fragment,o),l=k(o),p=M(o,"B",{});var re=j(p);u=le(re,"Bio"),re.forEach(f),d=k(o),V(c.$$.fragment,o),v=k(o),R=M(o,"P",{});var z=j(R);L=M(z,"B",{});var ee=j(L);O=le(ee,"Private email"),ee.forEach(f),E=le(z," (only for moderators)"),z.forEach(f),J=k(o),V(P.$$.fragment,o),K=k(o),V(N.$$.fragment,o)},m(o,h){H(o,e,h),m(e,r),H(o,t,h),S(i,o,h),H(o,l,h),H(o,p,h),m(p,u),H(o,d,h),S(c,o,h),H(o,v,h),H(o,R,h),m(R,L),m(L,O),m(R,E),H(o,J,h),S(P,o,h),H(o,K,h),S(N,o,h),Q=!0},p(o,h){const re={};!n&&h&16&&(n=!0,re.value=o[4].username,rt(()=>n=!1)),i.$set(re);const z={};!G&&h&16&&(G=!0,z.value=o[4].bio,rt(()=>G=!1)),c.$set(z);const ee={};!q&&h&16&&(q=!0,ee.value=o[4].email,rt(()=>q=!1)),P.$set(ee)},i(o){Q||($(i.$$.fragment,o),$(c.$$.fragment,o),$(P.$$.fragment,o),$(N.$$.fragment,o),Q=!0)},o(o){b(i.$$.fragment,o),b(c.$$.fragment,o),b(P.$$.fragment,o),b(N.$$.fragment,o),Q=!1},d(o){o&&f(e),o&&f(t),U(i,o),o&&f(l),o&&f(p),o&&f(d),U(c,o),o&&f(v),o&&f(R),o&&f(J),U(P,o),o&&f(K),U(N,o)}}}function wt(s){let e,r=s[0].bio+"",t;return{c(){e=y("p"),t=se(r),this.h()},l(i){e=M(i,"P",{class:!0});var n=j(e);t=le(n,r),n.forEach(f),this.h()},h(){C(e,"class","summary")},m(i,n){H(i,e,n),m(e,t)},p(i,n){n&1&&r!==(r=i[0].bio+"")&&Be(t,r)},d(i){i&&f(e)}}}function kt(s){let e,r;return e=new ge({props:{label:s[6]("generic.actions.new_project"),color:"brand",icon:Yt}}),e.$on("click",s[7]),{c(){T(e.$$.fragment)},l(t){V(e.$$.fragment,t)},m(t,i){S(e,t,i),r=!0},p(t,i){const n={};i&64&&(n.label=t[6]("generic.actions.new_project")),e.$set(n)},i(t){r||($(e.$$.fragment,t),r=!0)},o(t){b(e.$$.fragment,t),r=!1},d(t){U(e,t)}}}function or(s){var mt,_t;let e,r,t,i,n,l,p=((_t=(mt=s[4])==null?void 0:mt.username)!=null?_t:s[0].username)+"",u,d,c,G,v,R,L=s[0].username+"",O,E,J,P,q,K,N,Q,F,Z,_,D,W=s[6]("stats.downloads",{values:{downloads:Re(s[8])}})+"",x,o,h,re,z,ee=s[6]("stats.followers_of_projects",{values:{followers:Re(s[9])}})+"",Oe,ae,me,ze,Ee,ye=s[6]("stats.joined",{values:{ago:$t(s[0].created)}})+"",Ae,Ye,ie,_e,Fe,Me,je=s[6]("stats.user_id",{values:{id:s[0].id}})+"",Ie,Ze,Te,Xe,$e,oe,Je,te,pe,Ke,ne,ue,Qe,We,X;e=new qt({props:{title:s[0].username,description:s[0].bio+" - Download "+s[0].username+"'s mods & modpacks on Modrinth"}}),i=new Ut({props:{src:s[0].avatar_url,size:"lg",circle:!0}});let A=s[5]&&ht(s);const ut=[ir,ar],fe=[];function ft(a,g){return a[3]?0:1}P=ft(s),q=fe[P]=ut[P](s),Z=new Ot({}),h=new Zt({}),me=new Wt({}),_e=new tr({}),oe=new ge({props:{label:s[6]("generic.external.github_profile"),icon:Ct,color:"transparent",href:s[2]}}),pe=new Tt({}),ue=new St({props:{links:[{label:s[6]("pages.all"),href:""},...gt.filter(s[19]).map(s[20])],query:"type"}});let I=s[5]&&s[5].id===s[0].id&&kt(s);const xe=s[14].default,Y=Bt(xe,s,s[13],null);return{c(){T(e.$$.fragment),r=w(),t=y("div"),T(i.$$.fragment),n=w(),l=y("h1"),u=se(p),d=w(),c=y("div"),G=y("div"),v=y("div"),R=y("h1"),O=se(L),E=w(),A&&A.c(),J=w(),q.c(),K=w(),N=y("hr"),Q=w(),F=y("div"),T(Z.$$.fragment),_=w(),D=y("span"),x=w(),o=y("div"),T(h.$$.fragment),re=w(),z=y("span"),Oe=w(),ae=y("div"),T(me.$$.fragment),ze=w(),Ee=y("span"),Ae=se(ye),Ye=w(),ie=y("div"),T(_e.$$.fragment),Fe=w(),Me=y("span"),Ie=se(je),Ze=w(),Te=y("hr"),Xe=w(),$e=y("div"),T(oe.$$.fragment),Je=w(),te=y("div"),T(pe.$$.fragment),Ke=w(),ne=y("div"),T(ue.$$.fragment),Qe=w(),I&&I.c(),We=w(),Y&&Y.c(),this.h()},l(a){V(e.$$.fragment,a),r=k(a),t=M(a,"DIV",{class:!0});var g=j(t);V(i.$$.fragment,g),n=k(g),l=M(g,"H1",{class:!0});var be=j(l);u=le(be,p),be.forEach(f),g.forEach(f),d=k(a),c=M(a,"DIV",{class:!0});var ce=j(c);G=M(ce,"DIV",{class:!0});var he=j(G);v=M(he,"DIV",{class:!0});var B=j(v);R=M(B,"H1",{class:!0});var Pe=j(R);O=le(Pe,L),Pe.forEach(f),E=k(B),A&&A.l(B),J=k(B),q.l(B),K=k(B),N=M(B,"HR",{class:!0}),Q=k(B),F=M(B,"DIV",{class:!0});var de=j(F);V(Z.$$.fragment,de),_=k(de),D=M(de,"SPAN",{});var Ve=j(D);Ve.forEach(f),de.forEach(f),x=k(B),o=M(B,"DIV",{class:!0});var Se=j(o);V(h.$$.fragment,Se),re=k(Se),z=M(Se,"SPAN",{});var Pt=j(z);Pt.forEach(f),Se.forEach(f),Oe=k(B),ae=M(B,"DIV",{class:!0});var Ue=j(ae);V(me.$$.fragment,Ue),ze=k(Ue),Ee=M(Ue,"SPAN",{});var pt=j(Ee);Ae=le(pt,ye),pt.forEach(f),Ue.forEach(f),Ye=k(B),ie=M(B,"DIV",{class:!0});var qe=j(ie);V(_e.$$.fragment,qe),Fe=k(qe),Me=M(qe,"SPAN",{});var ct=j(Me);Ie=le(ct,je),ct.forEach(f),qe.forEach(f),Ze=k(B),Te=M(B,"HR",{class:!0}),Xe=k(B),$e=M(B,"DIV",{class:!0});var dt=j($e);V(oe.$$.fragment,dt),dt.forEach(f),B.forEach(f),he.forEach(f),Je=k(ce),te=M(ce,"DIV",{class:!0});var we=j(te);V(pe.$$.fragment,we),Ke=k(we),ne=M(we,"DIV",{class:!0});var Ce=j(ne);V(ue.$$.fragment,Ce),Qe=k(Ce),I&&I.l(Ce),Ce.forEach(f),We=k(we),Y&&Y.l(we),we.forEach(f),ce.forEach(f),this.h()},h(){C(l,"class","user-header__title svelte-wcq8zg"),C(t,"class","user-header svelte-wcq8zg"),C(R,"class","mobile-title svelte-wcq8zg"),C(N,"class","divider"),C(F,"class","stat"),C(o,"class","stat"),C(ae,"class","stat stat--color-light"),C(ie,"class","stat stat--color-light"),C(Te,"class","divider"),C($e,"class","button-group"),C(v,"class","card card--pad-top card--gap-compressed"),C(G,"class","column-layout__sidebar"),C(ne,"class","card card--strip card--pad-x"),C(te,"class","column-layout__content"),C(c,"class","column-layout")},m(a,g){S(e,a,g),H(a,r,g),H(a,t,g),S(i,t,null),m(t,n),m(t,l),m(l,u),H(a,d,g),H(a,c,g),m(c,G),m(G,v),m(v,R),m(R,O),m(v,E),A&&A.m(v,null),m(v,J),fe[P].m(v,null),m(v,K),m(v,N),m(v,Q),m(v,F),S(Z,F,null),m(F,_),m(F,D),D.innerHTML=W,m(v,x),m(v,o),S(h,o,null),m(o,re),m(o,z),z.innerHTML=ee,m(v,Oe),m(v,ae),S(me,ae,null),m(ae,ze),m(ae,Ee),m(Ee,Ae),m(v,Ye),m(v,ie),S(_e,ie,null),m(ie,Fe),m(ie,Me),m(Me,Ie),m(v,Ze),m(v,Te),m(v,Xe),m(v,$e),S(oe,$e,null),m(c,Je),m(c,te),S(pe,te,null),m(te,Ke),m(te,ne),S(ue,ne,null),m(ne,Qe),I&&I.m(ne,null),m(te,We),Y&&Y.m(te,null),X=!0},p(a,[g]){var de,Ve;const be={};g&1&&(be.title=a[0].username),g&1&&(be.description=a[0].bio+" - Download "+a[0].username+"'s mods & modpacks on Modrinth"),e.$set(be);const ce={};g&1&&(ce.src=a[0].avatar_url),i.$set(ce),(!X||g&17)&&p!==(p=((Ve=(de=a[4])==null?void 0:de.username)!=null?Ve:a[0].username)+"")&&Be(u,p),(!X||g&1)&&L!==(L=a[0].username+"")&&Be(O,L),a[5]?A?(A.p(a,g),g&32&&$(A,1)):(A=ht(a),A.c(),$(A,1),A.m(v,J)):A&&(He(),b(A,1,1,()=>{A=null}),De());let he=P;P=ft(a),P===he?fe[P].p(a,g):(He(),b(fe[he],1,1,()=>{fe[he]=null}),De(),q=fe[P],q?q.p(a,g):(q=fe[P]=ut[P](a),q.c()),$(q,1),q.m(v,K)),(!X||g&64)&&W!==(W=a[6]("stats.downloads",{values:{downloads:Re(a[8])}})+"")&&(D.innerHTML=W),(!X||g&64)&&ee!==(ee=a[6]("stats.followers_of_projects",{values:{followers:Re(a[9])}})+"")&&(z.innerHTML=ee),(!X||g&65)&&ye!==(ye=a[6]("stats.joined",{values:{ago:$t(a[0].created)}})+"")&&Be(Ae,ye),(!X||g&65)&&je!==(je=a[6]("stats.user_id",{values:{id:a[0].id}})+"")&&Be(Ie,je);const B={};g&64&&(B.label=a[6]("generic.external.github_profile")),g&4&&(B.href=a[2]),oe.$set(B);const Pe={};g&66&&(Pe.links=[{label:a[6]("pages.all"),href:""},...gt.filter(a[19]).map(a[20])]),ue.$set(Pe),a[5]&&a[5].id===a[0].id?I?(I.p(a,g),g&33&&$(I,1)):(I=kt(a),I.c(),$(I,1),I.m(ne,null)):I&&(He(),b(I,1,1,()=>{I=null}),De()),Y&&Y.p&&(!X||g&8192)&&Dt(Y,xe,a,a[13],X?At(xe,a[13],g,null):Ht(a[13]),null)},i(a){X||($(e.$$.fragment,a),$(i.$$.fragment,a),$(A),$(q),$(Z.$$.fragment,a),$(h.$$.fragment,a),$(me.$$.fragment,a),$(_e.$$.fragment,a),$(oe.$$.fragment,a),$(pe.$$.fragment,a),$(ue.$$.fragment,a),$(I),$(Y,a),X=!0)},o(a){b(e.$$.fragment,a),b(i.$$.fragment,a),b(A),b(q),b(Z.$$.fragment,a),b(h.$$.fragment,a),b(me.$$.fragment,a),b(_e.$$.fragment,a),b(oe.$$.fragment,a),b(pe.$$.fragment,a),b(ue.$$.fragment,a),b(I),b(Y,a),X=!1},d(a){U(e,a),a&&f(r),a&&f(t),U(i),a&&f(d),a&&f(c),A&&A.d(),fe[P].d(),U(Z),U(h),U(me),U(_e),U(oe),U(pe),U(ue),I&&I.d(),Y&&Y.d(a)}}}function Et(s,e,r,t,i,n,l){try{var p=s[n](l),u=p.value}catch(d){r(d);return}p.done?e(u):Promise.resolve(u).then(t,i)}function ur(s){return function(){var e=this,r=arguments;return new Promise(function(t,i){var n=s.apply(e,r);function l(u){Et(n,t,i,l,p,"next",u)}function p(u){Et(n,t,i,l,p,"throw",u)}l(void 0)})}}function Cr(s){return lt.apply(this,arguments)}function lt(){return lt=ur(function*(s){var{params:e,fetch:r,session:t,stuff:i}=s;try{var n=yield st("GET","user/"+e.identifier,null,{fetch:r});return{props:{user:n,projects:(yield st("GET","user/"+e.identifier+"/projects",null,{fetch:r})).sort((l,p)=>p.downloads-l.downloads),github_url:(yield(yield r("https://api.github.com/user/"+n.github_id)).json()).html_url}}}catch(l){return(l==null?void 0:l.status)===404?{status:404,error:new Error("The user you were looking for cannot be found.")}:{}}}),lt.apply(this,arguments)}function fr(s,e,r){let t,i;vt(s,bt,_=>r(5,t=_)),vt(s,Jt,_=>r(6,i=_));let{$$slots:n={},$$scope:l}=e;function p(){return p=Object.assign?Object.assign.bind():function(_){for(var D=1;D<arguments.length;D++){var W=arguments[D];for(var x in W)Object.prototype.hasOwnProperty.call(W,x)&&(_[x]=W[x])}return _},p.apply(this,arguments)}var u=Rt;let{user:d}=e,{projects:c}=e;It("projects",c);let{github_url:G}=e;var v=c.reduce((_,D)=>_+D.downloads,0),R=c.reduce((_,D)=>_+D.followers,0),L={admin:"red",moderator:"yellow",developer:"green"},O=!1,E;function J(){r(4,E={username:t.username,bio:t.bio,email:t.email}),r(3,O=!0)}function P(){var _=t.username,D=p({},E.username!==t.username?{username:E.username}:{},E.bio!==t.bio?{bio:E.bio}:{},E.email!==t.email?{email:E.email}:{});Object.keys(D).length>0?st("PATCH","user/"+d.id,D).then(()=>{bt.set(p({},t,E)),r(0,d=t),r(3,O=!1),_!==t.username&&history.replaceState(null,"","/user/"+E.username)}):r(3,O=!1)}const q=()=>Lt("user",d.id);function K(_){s.$$.not_equal(E.username,_)&&(E.username=_,r(4,E))}function N(_){s.$$.not_equal(E.bio,_)&&(E.bio=_,r(4,E))}function Q(_){s.$$.not_equal(E.email,_)&&(E.email=_,r(4,E))}const F=_=>c.filter(D=>D.project_type==_).length>0,Z=_=>({label:i(`project.types.${_}.plural`),href:_});return s.$$set=_=>{"user"in _&&r(0,d=_.user),"projects"in _&&r(1,c=_.projects),"github_url"in _&&r(2,G=_.github_url),"$$scope"in _&&r(13,l=_.$$scope)},[d,c,G,O,E,t,i,u,v,R,L,J,P,l,n,q,K,N,Q,F,Z]}class Rr extends at{constructor(e){super(),it(this,e,fr,or,ot,{user:0,projects:1,github_url:2})}}export{Rr as default,Cr as load};
