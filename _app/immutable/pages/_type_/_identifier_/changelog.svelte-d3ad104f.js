import{S as ue,i as he,s as ce,e as y,k as H,t as U,w as le,c as E,a as D,d as p,m as S,h as X,x as oe,b as w,R as C,f as Q,g as q,I as d,y as se,j as W,q as O,o as P,B as ie,p as _e,a2 as me,Y as L,n as ge}from"../../../chunks/index-d77dc8df.js";/* empty css                                                          */import{B as de}from"../../../chunks/Button-e3650c0e.js";import{M as pe}from"../../../chunks/Meta-3a496eb2.js";import{b as Z}from"../../../chunks/parse-f51b9449.js";import{d as x,g as ee}from"../../../chunks/versions-af7f0e1b.js";import{r as ae,v as ve,p as be,c as we,m as ye}from"../../../chunks/_store-c7f9d3ff.js";import{D as Ee}from"../../../chunks/download-f139143f.js";import{b as De}from"../../../chunks/formatters-45a0f877.js";import"../../../chunks/gameVersions-3a0f8262.js";import"../../../chunks/index-68131452.js";function ne(e,t,l){const o=e.slice();return o[10]=t[l],o}function re(e){let t,l=Z(e[10].changelog)+"";return{c(){t=y("div"),this.h()},l(o){t=E(o,"DIV",{class:!0});var h=D(t);h.forEach(p),this.h()},h(){w(t,"class","changelog__item__body__log text")},m(o,h){q(o,t,h),t.innerHTML=l},p(o,h){h&2&&l!==(l=Z(o[10].changelog)+"")&&(t.innerHTML=l)},d(o){o&&p(t)}}}function te(e){let t,l,o=`var(--color-badge-${ae[e[10].version_type]}-dot)`,h,i,r,v,m,n=(e[10].name||e[10].version_number)+"",s,f,V,a,c=e[3]("generic.byline",{values:{author:e[5].find(Y).user.username}})+"",b,k,T,B=e[6].format(new Date(e[10].date_published))+"",A,F,$,N,R,I;function Y(...g){return e[8](e[10],...g)}function z(...g){return e[9](e[10],...g)}$=new de({props:{label:e[3]("generic.actions.download"),icon:Ee,href:x(ee(e[10].files))}});let _=e[10].changelog&&!e[10].duplicate&&re(e);return{c(){t=y("div"),l=y("div"),h=H(),i=y("div"),r=y("div"),v=y("a"),m=y("h1"),s=U(n),V=H(),a=y("a"),k=U(`
                    \u2022
                    `),T=y("span"),A=U(B),F=H(),le($.$$.fragment),N=H(),_&&_.c(),R=H(),this.h()},l(g){t=E(g,"DIV",{class:!0});var u=D(t);l=E(u,"DIV",{class:!0}),D(l).forEach(p),h=S(u),i=E(u,"DIV",{class:!0});var j=D(i);r=E(j,"DIV",{class:!0});var M=D(r);v=E(M,"A",{href:!0});var G=D(v);m=E(G,"H1",{class:!0});var J=D(m);s=X(J,n),J.forEach(p),G.forEach(p),V=S(M),a=E(M,"A",{href:!0});var fe=D(a);fe.forEach(p),k=X(M,`
                    \u2022
                    `),T=E(M,"SPAN",{});var K=D(T);A=X(K,B),K.forEach(p),F=S(M),oe($.$$.fragment,M),M.forEach(p),N=S(j),_&&_.l(j),j.forEach(p),R=S(u),u.forEach(p),this.h()},h(){w(l,"class","changelog__item__color svelte-xlh42y"),C(l,"has-body",e[10].changelog),C(l,"is-duplicate",e[10].duplicate),Q(l,"--color",o,!1),w(m,"class","title-secondary"),w(v,"href",f="./version/"+(e[10].version_number||e[10].id)),w(a,"href",b="/user/"+e[5].find(z).user.username),w(r,"class","changelog__item__body__title svelte-xlh42y"),w(i,"class","changelog__item__body svelte-xlh42y"),w(t,"class","changelog__item svelte-xlh42y")},m(g,u){q(g,t,u),d(t,l),d(t,h),d(t,i),d(i,r),d(r,v),d(v,m),d(m,s),d(r,V),d(r,a),a.innerHTML=c,d(r,k),d(r,T),d(T,A),d(r,F),se($,r,null),d(i,N),_&&_.m(i,null),d(t,R),I=!0},p(g,u){e=g,u&2&&C(l,"has-body",e[10].changelog),u&2&&C(l,"is-duplicate",e[10].duplicate),u&2&&o!==(o=`var(--color-badge-${ae[e[10].version_type]}-dot)`)&&Q(l,"--color",o,!1),(!I||u&2)&&n!==(n=(e[10].name||e[10].version_number)+"")&&W(s,n),(!I||u&2&&f!==(f="./version/"+(e[10].version_number||e[10].id)))&&w(v,"href",f),(!I||u&42)&&c!==(c=e[3]("generic.byline",{values:{author:e[5].find(Y).user.username}})+"")&&(a.innerHTML=c),(!I||u&34&&b!==(b="/user/"+e[5].find(z).user.username))&&w(a,"href",b),(!I||u&2)&&B!==(B=e[6].format(new Date(e[10].date_published))+"")&&W(A,B);const j={};u&8&&(j.label=e[3]("generic.actions.download")),u&2&&(j.href=x(ee(e[10].files))),$.$set(j),e[10].changelog&&!e[10].duplicate?_?_.p(e,u):(_=re(e),_.c(),_.m(i,null)):_&&(_.d(1),_=null)},i(g){I||(O($.$$.fragment,g),I=!0)},o(g){P($.$$.fragment,g),I=!1},d(g){g&&p(t),ie($),_&&_.d()}}}function Ie(e){var m;let t,l,o,h;t=new pe({props:{title:e[2].title+" - "+e[3]("pages.changelog"),description:"Explore the changelog of "+e[2].title+"'s "+e[0].length+" versions.",color:e[4],image:(m=e[2])==null?void 0:m.icon_url}});let i=e[1],r=[];for(let n=0;n<i.length;n+=1)r[n]=te(ne(e,i,n));const v=n=>P(r[n],1,1,()=>{r[n]=null});return{c(){le(t.$$.fragment),l=H(),o=y("div");for(let n=0;n<r.length;n+=1)r[n].c();this.h()},l(n){oe(t.$$.fragment,n),l=S(n),o=E(n,"DIV",{class:!0});var s=D(o);for(let f=0;f<r.length;f+=1)r[f].l(s);s.forEach(p),this.h()},h(){w(o,"class","card changelog svelte-xlh42y")},m(n,s){se(t,n,s),q(n,l,s),q(n,o,s);for(let f=0;f<r.length;f+=1)r[f].m(o,null);h=!0},p(n,[s]){var V;const f={};if(s&12&&(f.title=n[2].title+" - "+n[3]("pages.changelog")),s&5&&(f.description="Explore the changelog of "+n[2].title+"'s "+n[0].length+" versions."),s&16&&(f.color=n[4]),s&4&&(f.image=(V=n[2])==null?void 0:V.icon_url),t.$set(f),s&106){i=n[1];let a;for(a=0;a<i.length;a+=1){const c=ne(n,i,a);r[a]?(r[a].p(c,s),O(r[a],1)):(r[a]=te(c),r[a].c(),O(r[a],1),r[a].m(o,null))}for(ge(),a=i.length;a<r.length;a+=1)v(a);_e()}},i(n){if(!h){O(t.$$.fragment,n);for(let s=0;s<i.length;s+=1)O(r[s]);h=!0}},o(n){P(t.$$.fragment,n),r=r.filter(Boolean);for(let s=0;s<r.length;s+=1)P(r[s]);h=!1},d(n){ie(t,n),n&&p(l),n&&p(o),me(r,n)}}}function Ve(e,t,l){let o,h,i,r,v;L(e,ve,a=>l(0,o=a)),L(e,be,a=>l(2,h=a)),L(e,De,a=>l(3,i=a)),L(e,we,a=>l(4,r=a)),L(e,ye,a=>l(5,v=a));function m(){return l(7,m=Object.assign?Object.assign.bind():function(a){for(var c=1;c<arguments.length;c++){var b=arguments[c];for(var k in b)Object.prototype.hasOwnProperty.call(b,k)&&(a[k]=b[k])}return a}),m.apply(this,arguments)}var n=new Intl.DateTimeFormat("en",{year:"numeric",month:"short",day:"numeric"}),s;const f=(a,c)=>c.user.id===a.author_id,V=(a,c)=>c.user.id===a.author_id;return e.$$.update=()=>{e.$$.dirty&1&&l(1,s=o.map((a,c)=>{var b=o[c+1];return b&&a.changelog&&b.changelog===a.changelog?m({duplicate:!0},a):m({duplicate:!1},a)}))},[o,s,h,i,r,v,n,m,f,V]}class Ce extends ue{constructor(t){super(),he(this,t,Ve,Ie,ce,{})}}export{Ce as default};
