import{S as Ie,i as je,s as Be,C as he,_ as Te,$ as Re,a as h,d as a,a0 as $e,g as F,z as Ce,E as Ee,a1 as we,e as o,w as J,k,t as S,c,x as K,m as I,h as q,b as D,I as r,y as Q,j as Pe,P as Ae,q as z,o as L,B as W,p as He,a2 as Se,Y as ve,M as qe,O as ze,n as Ye}from"../../../chunks/index-d77dc8df.js";import{B as de}from"../../../chunks/Button-e3650c0e.js";/* empty css                                                          */import{I as ye}from"../../../chunks/Input-3093cfe1.js";import{P as Le}from"../../../chunks/ProfilePicture-a9d2d293.js";import{M as Ne}from"../../../chunks/Meta-3a496eb2.js";import"../../../chunks/axios-9833b136.js";import"../../../chunks/parse-f51b9449.js";import{m as Oe,p as Ue,c as Fe}from"../../../chunks/_store-c7f9d3ff.js";import"../../../chunks/autosize.esm-05b78ead.js";import{E as Ge}from"../../../chunks/eye-5701f700.js";import{T as Ve}from"../../../chunks/trash-86c5620f.js";import{b as Je}from"../../../chunks/formatters-45a0f877.js";import"../../../chunks/check-aff0c417.js";import"../../../chunks/index-68131452.js";function Ke(s){let t,n='<path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M8 7h12m0 0l-4-4m4 4l-4 4m0 6H4m0 0l4 4m-4-4l4-4"/>',l=[{width:"1.2em"},{height:"1.2em"},{preserveAspectRatio:"xMidYMid meet"},{viewBox:"0 0 24 24"},s[0]],b={};for(let m=0;m<l.length;m+=1)b=he(b,l[m]);return{c(){t=Te("svg"),this.h()},l(m){t=Re(m,"svg",{width:!0,height:!0,preserveAspectRatio:!0,viewBox:!0});var d=h(t);d.forEach(a),this.h()},h(){$e(t,b)},m(m,d){F(m,t,d),t.innerHTML=n},p(m,[d]){$e(t,b=Ce(l,[{width:"1.2em"},{height:"1.2em"},{preserveAspectRatio:"xMidYMid meet"},{viewBox:"0 0 24 24"},d&1&&m[0]]))},i:Ee,o:Ee,d(m){m&&a(t)}}}function Qe(s,t,n){return s.$$set=l=>{n(0,t=he(he({},t),we(l)))},t=we(t),[t]}class We extends Ie{constructor(t){super(),je(this,t,Qe,Ke,Be,{})}}function De(s,t,n){const l=s.slice();return l[6]=t[n],l[7]=t,l[8]=n,l}function ke(s){let t,n,l,b,m,d,$=s[6].user.username+"",Y,_,u,E,j,B,N,X,Z,M,C,x,w,V,O,ee,P,U;b=new Le({props:{size:"xs",src:s[6].user.avatar_url,circle:!0}}),E=new de({props:{label:"Remove",icon:Ve}});function ie(f){s[5](f,s[8])}let A={type:"text",placeholder:"Enter role..."};return s[0][s[8]].role!==void 0&&(A.value=s[0][s[8]].role),M=new ye({props:A}),qe.push(()=>ze(M,"value",ie)),P=new ye({props:{type:"checkboxes",options:[{label:"Upload version",value:1<<0},{label:"Delete version",value:1<<1}]}}),{c(){t=o("div"),n=o("div"),l=o("div"),J(b.$$.fragment),m=k(),d=o("h2"),Y=S($),_=k(),u=o("div"),J(E.$$.fragment),j=k(),B=o("div"),N=o("b"),X=S("Role"),Z=k(),J(M.$$.fragment),x=k(),w=o("div"),V=o("b"),O=S("Permissions"),ee=k(),J(P.$$.fragment),this.h()},l(f){t=c(f,"DIV",{class:!0});var g=h(t);n=c(g,"DIV",{class:!0});var y=h(n);l=c(y,"DIV",{class:!0});var T=h(l);K(b.$$.fragment,T),m=I(T),d=c(T,"H2",{class:!0});var le=h(d);Y=q(le,$),le.forEach(a),T.forEach(a),_=I(y),u=c(y,"DIV",{class:!0});var ae=h(u);K(E.$$.fragment,ae),ae.forEach(a),y.forEach(a),j=I(g),B=c(g,"DIV",{class:!0});var G=h(B);N=c(G,"B",{});var ne=h(N);X=q(ne,"Role"),ne.forEach(a),Z=I(G),K(M.$$.fragment,G),G.forEach(a),x=I(g),w=c(g,"DIV",{class:!0});var R=h(w);V=c(R,"B",{});var te=h(V);O=q(te,"Permissions"),te.forEach(a),ee=I(R),K(P.$$.fragment,R),R.forEach(a),g.forEach(a),this.h()},h(){D(d,"class","title-secondary"),D(l,"class","edit-member__column__row svelte-hl4may"),D(u,"class","button-group svelte-hl4may"),D(n,"class","edit-member__column svelte-hl4may"),D(B,"class","edit-member__column svelte-hl4may"),D(w,"class","edit-member__column svelte-hl4may"),D(t,"class","card edit-member svelte-hl4may")},m(f,g){F(f,t,g),r(t,n),r(n,l),Q(b,l,null),r(l,m),r(l,d),r(d,Y),r(n,_),r(n,u),Q(E,u,null),r(t,j),r(t,B),r(B,N),r(N,X),r(B,Z),Q(M,B,null),r(t,x),r(t,w),r(w,V),r(V,O),r(w,ee),Q(P,w,null),U=!0},p(f,g){s=f;const y={};g&2&&(y.src=s[6].user.avatar_url),b.$set(y),(!U||g&2)&&$!==($=s[6].user.username+"")&&Pe(Y,$);const T={};!C&&g&1&&(C=!0,T.value=s[0][s[8]].role,Ae(()=>C=!1)),M.$set(T)},i(f){U||(z(b.$$.fragment,f),z(E.$$.fragment,f),z(M.$$.fragment,f),z(P.$$.fragment,f),U=!0)},o(f){L(b.$$.fragment,f),L(E.$$.fragment,f),L(M.$$.fragment,f),L(P.$$.fragment,f),U=!1},d(f){f&&a(t),W(b),W(E),W(M),W(P)}}}function Xe(s){let t,n,l,b,m,d,$,Y,_,u,E,j,B,N,X,Z,M,C,x,w,V,O,ee,P,U,ie,A,f,g,y,T,le,ae,G,ne,R,te;t=new Ne({props:{title:s[2].title+" - "+s[3]("pages.settings"),description:s[2].description,noindex:!0,color:s[4]}});let re=s[1],v=[];for(let e=0;e<re.length;e+=1)v[e]=ke(De(s,re,e));const Me=e=>L(v[e],1,1,()=>{v[e]=null});return C=new de({props:{label:"Change visibility",color:"danger-light",icon:Ge}}),C.$on("click",Ze),A=new de({props:{label:"Transfer ownership",color:"danger-light",icon:We}}),A.$on("click",xe),R=new de({props:{label:"Delete project",color:"danger",icon:Ve}}),R.$on("click",et),{c(){J(t.$$.fragment),n=k(),l=o("h2"),b=S("Members"),m=k();for(let e=0;e<v.length;e+=1)v[e].c();d=k(),$=o("h2"),Y=S("Advanced"),_=k(),u=o("div"),E=o("div"),j=o("div"),B=o("b"),N=S("Change visibility"),X=o("br"),Z=S(`
            This project is currently public.`),M=k(),J(C.$$.fragment),x=k(),w=o("div"),V=o("div"),O=o("b"),ee=S("Transfer ownership"),P=o("br"),U=S(`
            Transfer this project to another user.`),ie=k(),J(A.$$.fragment),f=k(),g=o("div"),y=o("div"),T=o("b"),le=S("Delete project"),ae=o("br"),G=S(`
            Deleting a project erases all project data, including versions.`),ne=k(),J(R.$$.fragment),this.h()},l(e){K(t.$$.fragment,e),n=I(e),l=c(e,"H2",{class:!0});var i=h(l);b=q(i,"Members"),i.forEach(a),m=I(e);for(let pe=0;pe<v.length;pe+=1)v[pe].l(e);d=I(e),$=c(e,"H2",{class:!0});var H=h($);Y=q(H,"Advanced"),H.forEach(a),_=I(e),u=c(e,"DIV",{class:!0});var p=h(u);E=c(p,"DIV",{class:!0});var se=h(E);j=c(se,"DIV",{class:!0});var oe=h(j);B=c(oe,"B",{});var _e=h(B);N=q(_e,"Change visibility"),_e.forEach(a),X=c(oe,"BR",{}),Z=q(oe,`
            This project is currently public.`),oe.forEach(a),M=I(se),K(C.$$.fragment,se),se.forEach(a),x=I(p),w=c(p,"DIV",{class:!0});var ce=h(w);V=c(ce,"DIV",{class:!0});var me=h(V);O=c(me,"B",{});var ge=h(O);ee=q(ge,"Transfer ownership"),ge.forEach(a),P=c(me,"BR",{}),U=q(me,`
            Transfer this project to another user.`),me.forEach(a),ie=I(ce),K(A.$$.fragment,ce),ce.forEach(a),f=I(p),g=c(p,"DIV",{class:!0});var ue=h(g);y=c(ue,"DIV",{class:!0});var fe=h(y);T=c(fe,"B",{});var be=h(T);le=q(be,"Delete project"),be.forEach(a),ae=c(fe,"BR",{}),G=q(fe,`
            Deleting a project erases all project data, including versions.`),fe.forEach(a),ne=I(ue),K(R.$$.fragment,ue),ue.forEach(a),p.forEach(a),this.h()},h(){D(l,"class","title"),D($,"class","title"),D(j,"class","setting__label svelte-hl4may"),D(E,"class","setting svelte-hl4may"),D(V,"class","setting__label svelte-hl4may"),D(w,"class","setting svelte-hl4may"),D(y,"class","setting__label svelte-hl4may"),D(g,"class","setting svelte-hl4may"),D(u,"class","card")},m(e,i){Q(t,e,i),F(e,n,i),F(e,l,i),r(l,b),F(e,m,i);for(let H=0;H<v.length;H+=1)v[H].m(e,i);F(e,d,i),F(e,$,i),r($,Y),F(e,_,i),F(e,u,i),r(u,E),r(E,j),r(j,B),r(B,N),r(j,X),r(j,Z),r(E,M),Q(C,E,null),r(u,x),r(u,w),r(w,V),r(V,O),r(O,ee),r(V,P),r(V,U),r(w,ie),Q(A,w,null),r(u,f),r(u,g),r(g,y),r(y,T),r(T,le),r(y,ae),r(y,G),r(g,ne),Q(R,g,null),te=!0},p(e,[i]){const H={};if(i&12&&(H.title=e[2].title+" - "+e[3]("pages.settings")),i&4&&(H.description=e[2].description),i&16&&(H.color=e[4]),t.$set(H),i&3){re=e[1];let p;for(p=0;p<re.length;p+=1){const se=De(e,re,p);v[p]?(v[p].p(se,i),z(v[p],1)):(v[p]=ke(se),v[p].c(),z(v[p],1),v[p].m(d.parentNode,d))}for(Ye(),p=re.length;p<v.length;p+=1)Me(p);He()}},i(e){if(!te){z(t.$$.fragment,e);for(let i=0;i<re.length;i+=1)z(v[i]);z(C.$$.fragment,e),z(A.$$.fragment,e),z(R.$$.fragment,e),te=!0}},o(e){L(t.$$.fragment,e),v=v.filter(Boolean);for(let i=0;i<v.length;i+=1)L(v[i]);L(C.$$.fragment,e),L(A.$$.fragment,e),L(R.$$.fragment,e),te=!1},d(e){W(t,e),e&&a(n),e&&a(l),e&&a(m),Se(v,e),e&&a(d),e&&a($),e&&a(_),e&&a(u),W(C),W(A),W(R)}}}const Ze=()=>{},xe=()=>{},et=()=>{};function tt(s,t,n){let l,b,m,d;ve(s,Oe,_=>n(1,l=_)),ve(s,Ue,_=>n(2,b=_)),ve(s,Je,_=>n(3,m=_)),ve(s,Fe,_=>n(4,d=_));var $=l.map(_=>{var{permissions:u,role:E,user:j}=_;return{permissions:u,role:E,id:j.id}});function Y(_,u){s.$$.not_equal($[u].role,_)&&($[u].role=_,n(0,$))}return[$,l,b,m,d,Y]}class _t extends Ie{constructor(t){super(),je(this,t,tt,Xe,Be,{})}}export{_t as default};
