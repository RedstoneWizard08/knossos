import{S as ht,i as pt,s as ft,w as S,k as M,e as m,t as O,x as j,m as D,c as g,a as y,h as V,d as p,b as z,y as q,g as ut,I as n,j as mt,q as Y,o as J,B as L,Y as W,Z}from"../chunks/index-d77dc8df.js";import{g as gt}from"../chunks/navigation-0e6511d1.js";import{B as tt}from"../chunks/Button-e3650c0e.js";import{M as yt}from"../chunks/Meta-3a496eb2.js";import{s as vt}from"../chunks/api-22161ac7.js";import{p as et}from"../chunks/app-8b88eb34.js";import{a as lt,u as ct}from"../chunks/axios-9833b136.js";import{b as bt}from"../chunks/formatters-45a0f877.js";import"../chunks/singletons-d1fb5791.js";import"../chunks/index-68131452.js";function kt(a){let s,l,e,i,r=a[2]("pages.settings")+"",d,h,o,v,P,E,A,u,I,_,b,F,w,K,f,T,N,Q,x,U,X,G,$,B;return s=new yt({props:{title:a[2]("pages.settings")}}),b=new tt({props:{label:(a[0]?"Copied":"Copy")+" token to clipboard"}}),b.$on("click",a[5]),w=new tt({props:{label:"Revoke token"}}),w.$on("click",a[4]),$=new tt({props:{label:"Delete account",color:"danger"}}),$.$on("click",a[3]),{c(){S(s.$$.fragment),l=M(),e=m("div"),i=m("h1"),d=O(r),h=M(),o=m("div"),v=m("h3"),P=O("Authorization token"),E=M(),A=m("p"),u=O(`Your authorization token can be used with the Modrinth API, the
            Minotaur Gradle plugin, and other applications that interact with
            Modrinth's API. Be sure to keep this secret!`),I=M(),_=m("div"),S(b.$$.fragment),F=M(),S(w.$$.fragment),K=M(),f=m("div"),T=m("h3"),N=O("Delete account"),Q=M(),x=m("p"),U=O(`Once you delete your account, there is no going back. Deleting your
            account will remove all attached data, including projects, from our
            servers.`),X=M(),G=m("div"),S($.$$.fragment),this.h()},l(t){j(s.$$.fragment,t),l=D(t),e=g(t,"DIV",{class:!0});var c=y(e);i=g(c,"H1",{});var C=y(i);d=V(C,r),C.forEach(p),h=D(c),o=g(c,"DIV",{class:!0});var k=y(o);v=g(k,"H3",{});var ot=y(v);P=V(ot,"Authorization token"),ot.forEach(p),E=D(k),A=g(k,"P",{});var rt=y(A);u=V(rt,`Your authorization token can be used with the Modrinth API, the
            Minotaur Gradle plugin, and other applications that interact with
            Modrinth's API. Be sure to keep this secret!`),rt.forEach(p),I=D(k),_=g(k,"DIV",{class:!0});var R=y(_);j(b.$$.fragment,R),F=D(R),j(w.$$.fragment,R),R.forEach(p),k.forEach(p),K=D(c),f=g(c,"DIV",{class:!0});var H=y(f);T=g(H,"H3",{});var at=y(T);N=V(at,"Delete account"),at.forEach(p),Q=D(H),x=g(H,"P",{});var it=y(x);U=V(it,`Once you delete your account, there is no going back. Deleting your
            account will remove all attached data, including projects, from our
            servers.`),it.forEach(p),X=D(H),G=g(H,"DIV",{class:!0});var st=y(G);j($.$$.fragment,st),st.forEach(p),H.forEach(p),c.forEach(p),this.h()},h(){z(_,"class","button-group"),z(o,"class","card text"),z(G,"class","button-group"),z(f,"class","card text"),z(e,"class","single-layout")},m(t,c){q(s,t,c),ut(t,l,c),ut(t,e,c),n(e,i),n(i,d),n(e,h),n(e,o),n(o,v),n(v,P),n(o,E),n(o,A),n(A,u),n(o,I),n(o,_),q(b,_,null),n(_,F),q(w,_,null),n(e,K),n(e,f),n(f,T),n(T,N),n(f,Q),n(f,x),n(x,U),n(f,X),n(f,G),q($,G,null),B=!0},p(t,[c]){const C={};c&4&&(C.title=t[2]("pages.settings")),s.$set(C),(!B||c&4)&&r!==(r=t[2]("pages.settings")+"")&&mt(d,r);const k={};c&1&&(k.label=(t[0]?"Copied":"Copy")+" token to clipboard"),b.$set(k)},i(t){B||(Y(s.$$.fragment,t),Y(b.$$.fragment,t),Y(w.$$.fragment,t),Y($.$$.fragment,t),B=!0)},o(t){J(s.$$.fragment,t),J(b.$$.fragment,t),J(w.$$.fragment,t),J($.$$.fragment,t),B=!1},d(t){L(s,t),t&&p(l),t&&p(e),L(b),L(w),L($)}}}function dt(a,s,l,e,i,r,d){try{var h=a[r](d),o=h.value}catch(v){l(v);return}h.done?s(o):Promise.resolve(o).then(e,i)}function nt(a){return function(){var s=this,l=arguments;return new Promise(function(e,i){var r=a.apply(s,l);function d(o){dt(r,e,i,d,h,"next",o)}function h(o){dt(r,e,i,d,h,"throw",o)}d(void 0)})}}function _t(a,s,l){let e,i,r,d;W(a,lt,u=>l(1,e=u)),W(a,ct,u=>l(7,i=u)),W(a,et,u=>l(8,r=u)),W(a,bt,u=>l(2,d=u));var h=!1;function o(){Z(et,r=[{title:"Are you sure you want to do this?",type:{deletion:{key:i.username}},body:`
We will **immediately delete all of your projects** and follows. Deleting your account cannot be reversed.

If you need help with your account, get support on the [Modrinth Discord](/discord).`,button:{label:"Delete my account",click:function(){var u=nt(function*(){yield vt("DELETE","user/"+i.id),yield P()});function I(){return u.apply(this,arguments)}return I}()},style:{wide:!0}},...r],r)}function v(){Z(et,r=[{title:"Revoke your Modrinth token",body:`
Revoking your Modrinth token can have unintended consequences. Please be aware that the following could break:
 - Any application that uses your token to access the API.
 - Gradle - if Minotaur is given a incorrect token, your Gradle builds could fail.
 - GitHub - if you use a GitHub action that uses the Modrinth API, it will cause errors.

If you are willing to continue, complete the following steps:

 1. Head to the [Modrinth Application page on GitHub](https://github.com/settings/connections/applications/3acffb2e808d16d4b226). Make sure to be logged into the GitHub account you used for Modrinth!
 2. Press the big red "Revoke Access" button next to the "Permissions" header.

Once you have completed those steps, press the continue button below.

**This will log you out of Modrinth, however, when you log back in, your token will be regenerated.**`,button:{click:function(){var u=nt(function*(){yield P()});function I(){return u.apply(this,arguments)}return I}()}},...r],r)}function P(){return E.apply(this,arguments)}function E(){return E=nt(function*(){Z(ct,i=null,i),Z(lt,e="",e),document.cookie="modrinth-token=test; Path=/; Expires=Thu, 01 Jan 1970 00:00:01 GMT;",yield gt("/")}),E.apply(this,arguments)}return[h,e,d,o,v,async()=>{await navigator.clipboard.writeText(e),l(0,h=!0)}]}class Tt extends ht{constructor(s){super(),pt(this,s,_t,kt,ft,{})}}export{Tt as default};
