import{S as gt,i as bt,s as $t,C as tt,_ as T,$ as j,a as v,d as _,b as s,a0 as rt,g as A,I as p,z as Lt,E as z,a1 as it,w as G,x as J,y as O,q as I,o as H,B as U,k as N,e as S,t as K,m as C,c as V,h as Q,j as Et,p as Y,Y as W,v as Dt,n as q,Z as nt,a2 as kt,l as ot}from"../chunks/index-d77dc8df.js";import{B as et}from"../chunks/Button-e3650c0e.js";import{M as It}from"../chunks/Meta-3a496eb2.js";import{a as st}from"../chunks/ago-a4836e85.js";import{s as X}from"../chunks/api-22161ac7.js";import{a as ct}from"../chunks/parse-f51b9449.js";import{n as x,l as Tt,u as jt}from"../chunks/self-546db531.js";import{T as wt}from"../chunks/trash-86c5620f.js";import{b as Bt}from"../chunks/formatters-45a0f877.js";import"../chunks/axios-9833b136.js";import"../chunks/index-68131452.js";function Ht(n){let t,a,l,e,c,r,i,o,b,$,u,M,d,B,D,Z,f,E=[{viewBox:"0 0 790 512.21"},n[0]],L={};for(let h=0;h<E.length;h+=1)L=tt(L,E[h]);return{c(){t=T("svg"),a=T("path"),l=T("path"),e=T("path"),c=T("path"),r=T("path"),i=T("path"),o=T("path"),b=T("path"),$=T("path"),u=T("path"),M=T("path"),d=T("path"),B=T("circle"),D=T("path"),Z=T("circle"),f=T("path"),this.h()},l(h){t=j(h,"svg",{viewBox:!0});var g=v(t);a=j(g,"path",{fill:!0,d:!0}),v(a).forEach(_),l=j(g,"path",{fill:!0,d:!0}),v(l).forEach(_),e=j(g,"path",{fill:!0,d:!0}),v(e).forEach(_),c=j(g,"path",{fill:!0,d:!0}),v(c).forEach(_),r=j(g,"path",{fill:!0,d:!0}),v(r).forEach(_),i=j(g,"path",{fill:!0,d:!0}),v(i).forEach(_),o=j(g,"path",{fill:!0,d:!0}),v(o).forEach(_),b=j(g,"path",{fill:!0,d:!0}),v(b).forEach(_),$=j(g,"path",{fill:!0,d:!0}),v($).forEach(_),u=j(g,"path",{fill:!0,d:!0}),v(u).forEach(_),M=j(g,"path",{fill:!0,d:!0}),v(M).forEach(_),d=j(g,"path",{fill:!0,d:!0}),v(d).forEach(_),B=j(g,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),v(B).forEach(_),D=j(g,"path",{fill:!0,d:!0}),v(D).forEach(_),Z=j(g,"circle",{cx:!0,cy:!0,r:!0,fill:!0}),v(Z).forEach(_),f=j(g,"path",{fill:!0,d:!0}),v(f).forEach(_),g.forEach(_),this.h()},h(){s(a,"fill","var(--color-raised-bg)"),s(a,"d","M720.56 510.7 698 442.6s24.82 24.82 24.82 45.18l-4.46-47.09s12.73 17.18 11.46 43.28-9.26 26.72-9.26 26.72Zm-484.54-62L214 382.23s24.22 24.22 24.22 44.1l-4.35-45.96s12.43 16.76 11.18 42.23-9.03 26.08-9.03 26.08Z"),s(l,"fill","var(--color-raised-bg)"),s(l,"d","M579.73 479.36c.03 43.71-86.67 30.27-192.81 30.36s-191.54 13.69-191.58-30.03 86.64-53.3 192.78-53.39 191.57 9.34 191.6 53.06Z"),s(e,"fill","#a0616a"),s(e,"d","M505.34 420.32h-13.88l-6.6-53.52h20.48v53.52z"),s(c,"fill","#2f2e41"),s(c,"d","M480 416.36h28.31v16.85H464.7v-1.54a15.3 15.3 0 0 1 15.3-15.31Z"),s(r,"fill","#a0616a"),s(r,"d","M607.34 499.32h-13.88l-6.6-53.52h20.48v53.52z"),s(i,"fill","#2f2e41"),s(i,"d","M582 495.36h28.31v16.85H566.7v-1.54a15.3 15.3 0 0 1 15.3-15.31Z"),s(o,"fill","#a0616a"),s(o,"d","M671.34 340.3a10.32 10.32 0 0 0-2.9-15.54l-32.22-131.3-20.6 8.87 38.33 126.95a10.37 10.37 0 0 0 17.4 11.03ZM646.2 74.96a11.38 11.38 0 0 0-17.4 1.16l-49.9 5.72 7.6 19.24 45.36-8.49a11.44 11.44 0 0 0 14.35-17.63Z"),s(b,"fill","#2f2e41"),s(b,"d","m564 326.7 21.77 163.37 27.1-5.58s-4-118.98 9.55-133.33S605 311.7 605 311.7Z"),s($,"fill","#2f2e41"),s($,"d","m573 281.7-10 15s-77-32-77 19-4.4 85.6-6 88 18.44 8.59 28 7c0 0 11.8-82.23 11-87 0 0 75.53 37.03 89.88 33.84s17.73-14.47 20.12-20.85-1-57-1-57l-47.81-14.59Z"),s(u,"fill","#ccc"),s(u,"d","m574.35 191.63-2.85-3.42s-31.92-71.83-19.38-91.2 67.26-22.24 68.97-21.1-4.08 15.94-.09 22.78c0 0-42.4 9.2-45.24 10.33s21.96 43.28 21.96 43.28l-2.85 25.65Z"),s(M,"fill","#ccc"),s(M,"d","M630.22 156.29s-29.65 3.42-30.79 3.42-1.7-7.41-1.7-7.41l-26.23 35.9s-12.92 104.2-9.5 102.48 66.5 8.11 67.08 3.55-.57-27.36 1.14-28.5 29.64-71.83 29.64-71.83-2.85-14.82-12.54-19.95-17.1-17.67-17.1-17.67Z"),s(d,"fill","#ccc"),s(d,"d","m650.74 184.22 9.12 9.7S673.4 305.26 666 308.68s-22 3-22 3l-14.35-52.79Z"),s(B,"cx","601.73"),s(B,"cy","123"),s(B,"r","26.24"),s(B,"fill","#a0616a"),s(D,"fill","#2f2e41"),s(D,"d","M595.57 127.1c-.35-5.45-7.22-5.64-12.68-5.7s-11.97.15-15.06-4.35c-2.04-2.97-1.65-7.1.03-10.28s4.46-5.64 7.19-8c7.04-6.09 14.3-12.13 22.75-16.03s18.36-5.47 27.13-2.34c10.77 3.84 25.33 23.62 26.59 34.99s-3.29 22.95-10.95 31.45-25.18 5.06-36.2 8.08c6.7-9.49 2.28-26.73-8.46-31.16Z"),s(Z,"cx","361.72"),s(Z,"cy","403.5"),s(Z,"r","62.99"),s(Z,"fill","var(--color-brand)"),s(f,"fill","var(--color-brand)"),s(f,"d","M319.66 336.04a45.16 45.16 0 0 1-41.26-26.79L178.45 84.16A59.83 59.83 0 1 1 290.32 42.3l72.38 235.4a45.08 45.08 0 0 1-43.04 58.34Z"),rt(t,L)},m(h,g){A(h,t,g),p(t,a),p(t,l),p(t,e),p(t,c),p(t,r),p(t,i),p(t,o),p(t,b),p(t,$),p(t,u),p(t,M),p(t,d),p(t,B),p(t,D),p(t,Z),p(t,f)},p(h,[g]){rt(t,L=Lt(E,[{viewBox:"0 0 790 512.21"},g&1&&h[0]]))},i:z,o:z,d(h){h&&_(t)}}}function St(n,t,a){return n.$$set=l=>{a(0,t=tt(tt({},t),it(l)))},t=it(t),[t]}class Vt extends gt{constructor(t){super(),bt(this,t,St,Ht,$t,{})}}function ft(n,t,a){const l=n.slice();return l[8]=t[a],l}function ut(n,t,a){const l=n.slice();return l[11]=t[a],l}function ht(n){let t,a;return t=new et({props:{label:"Clear all",color:"brand",icon:wt}}),t.$on("click",n[4]),{c(){G(t.$$.fragment)},l(l){J(t.$$.fragment,l)},m(l,e){O(t,l,e),a=!0},p:z,i(l){a||(I(t.$$.fragment,l),a=!0)},o(l){H(t.$$.fragment,l),a=!1},d(l){U(t,l)}}}function Nt(n){let t,a,l,e,c,r;return a=new Vt({props:{class:"illustration__image"}}),{c(){t=S("div"),G(a.$$.fragment),l=N(),e=S("p"),c=K("You are up to date!"),this.h()},l(i){t=V(i,"DIV",{class:!0});var o=v(t);J(a.$$.fragment,o),l=C(o),e=V(o,"P",{class:!0});var b=v(e);c=Q(b,"You are up to date!"),b.forEach(_),o.forEach(_),this.h()},h(){s(e,"class","illustration__description"),s(t,"class","illustration")},m(i,o){A(i,t,o),O(a,t,null),p(t,l),p(t,e),p(e,c),r=!0},p:z,i(i){r||(I(a.$$.fragment,i),r=!0)},o(i){H(a.$$.fragment,i),r=!1},d(i){i&&_(t),U(a)}}}function Ct(n){let t,a,l=n[0],e=[];for(let r=0;r<l.length;r+=1)e[r]=dt(ft(n,l,r));const c=r=>H(e[r],1,1,()=>{e[r]=null});return{c(){for(let r=0;r<e.length;r+=1)e[r].c();t=ot()},l(r){for(let i=0;i<e.length;i+=1)e[i].l(r);t=ot()},m(r,i){for(let o=0;o<e.length;o+=1)e[o].m(r,i);A(r,t,i),a=!0},p(r,i){if(i&11){l=r[0];let o;for(o=0;o<l.length;o+=1){const b=ft(r,l,o);e[o]?(e[o].p(b,i),I(e[o],1)):(e[o]=dt(b),e[o].c(),I(e[o],1),e[o].m(t.parentNode,t))}for(q(),o=l.length;o<e.length;o+=1)c(o);Y()}},i(r){if(!a){for(let i=0;i<l.length;i+=1)I(e[i]);a=!0}},o(r){e=e.filter(Boolean);for(let i=0;i<e.length;i+=1)H(e[i]);a=!1},d(r){kt(e,r),r&&_(t)}}}function Pt(n){let t;return{c(){t=K("Loading notifications...")},l(a){t=Q(a,"Loading notifications...")},m(a,l){A(a,t,l)},p:z,i:z,o:z,d(a){a&&_(t)}}}function _t(n){let t,a;function l(){return n[5](n[8])}return t=new et({props:{label:"Clear",icon:wt}}),t.$on("click",l),{c(){G(t.$$.fragment)},l(e){J(t.$$.fragment,e)},m(e,c){O(t,e,c),a=!0},p(e,c){n=e},i(e){a||(I(t.$$.fragment,e),a=!0)},o(e){H(t.$$.fragment,e),a=!1},d(e){U(t,e)}}}function pt(n){let t,a;function l(){return n[6](n[11],n[8])}return t=new et({props:{label:n[11].title}}),t.$on("click",l),{c(){G(t.$$.fragment)},l(e){J(t.$$.fragment,e)},m(e,c){O(t,e,c),a=!0},p(e,c){n=e;const r={};c&1&&(r.label=n[11].title),t.$set(r)},i(e){a||(I(t.$$.fragment,e),a=!0)},o(e){H(t.$$.fragment,e),a=!1},d(e){U(t,e)}}}function dt(n){let t,a,l,e,c,r=ct(n[8].title)+"",i,o,b,$=n[1]("stats.notified",{values:{ago:st(n[8].created)}})+"",u,M,d=n[8].text+"",B,D,Z,f,E,L,h=n[8].type==="project_update"&&_t(n),g=n[8].actions,y=[];for(let m=0;m<g.length;m+=1)y[m]=pt(ut(n,g,m));const yt=m=>H(y[m],1,1,()=>{y[m]=null});return{c(){t=S("div"),a=S("div"),l=S("div"),e=S("h3"),c=S("a"),o=N(),b=S("span"),u=N(),M=S("p"),B=K(d),D=N(),Z=S("div"),h&&h.c(),f=N();for(let m=0;m<y.length;m+=1)y[m].c();E=N(),this.h()},l(m){t=V(m,"DIV",{class:!0});var k=v(t);a=V(k,"DIV",{class:!0});var w=v(a);l=V(w,"DIV",{class:!0});var P=v(l);e=V(P,"H3",{});var lt=v(e);c=V(lt,"A",{href:!0});var Mt=v(c);Mt.forEach(_),lt.forEach(_),o=C(P),b=V(P,"SPAN",{class:!0});var Zt=v(b);Zt.forEach(_),P.forEach(_),u=C(w),M=V(w,"P",{});var at=v(M);B=Q(at,d),at.forEach(_),w.forEach(_),D=C(k),Z=V(k,"DIV",{class:!0});var F=v(Z);h&&h.l(F),f=C(F);for(let R=0;R<y.length;R+=1)y[R].l(F);F.forEach(_),E=C(k),k.forEach(_),this.h()},h(){s(c,"href",i=n[8].link),s(b,"class","notification__info__title__time svelte-1ijb158"),s(l,"class","notification__info__title svelte-1ijb158"),s(a,"class","notification__info svelte-1ijb158"),s(Z,"class","notification__actions svelte-1ijb158"),s(t,"class","card notification svelte-1ijb158")},m(m,k){A(m,t,k),p(t,a),p(a,l),p(l,e),p(e,c),c.innerHTML=r,p(l,o),p(l,b),b.innerHTML=$,p(a,u),p(a,M),p(M,B),p(t,D),p(t,Z),h&&h.m(Z,null),p(Z,f);for(let w=0;w<y.length;w+=1)y[w].m(Z,null);p(t,E),L=!0},p(m,k){if((!L||k&1)&&r!==(r=ct(m[8].title)+"")&&(c.innerHTML=r),(!L||k&1&&i!==(i=m[8].link))&&s(c,"href",i),(!L||k&3)&&$!==($=m[1]("stats.notified",{values:{ago:st(m[8].created)}})+"")&&(b.innerHTML=$),(!L||k&1)&&d!==(d=m[8].text+"")&&Et(B,d),m[8].type==="project_update"?h?(h.p(m,k),k&1&&I(h,1)):(h=_t(m),h.c(),I(h,1),h.m(Z,f)):h&&(q(),H(h,1,1,()=>{h=null}),Y()),k&9){g=m[8].actions;let w;for(w=0;w<g.length;w+=1){const P=ut(m,g,w);y[w]?(y[w].p(P,k),I(y[w],1)):(y[w]=pt(P),y[w].c(),I(y[w],1),y[w].m(Z,null))}for(q(),w=g.length;w<y.length;w+=1)yt(w);Y()}},i(m){if(!L){I(h);for(let k=0;k<g.length;k+=1)I(y[k]);L=!0}},o(m){H(h),y=y.filter(Boolean);for(let k=0;k<y.length;k+=1)H(y[k]);L=!1},d(m){m&&_(t),h&&h.d(),kt(y,m)}}}function zt(n){let t,a,l,e,c,r=n[1]("pages.notifications")+"",i,o,b,$,u,M;t=new It({props:{title:n[1]("pages.notifications"),noindex:!0}});let d=(!n[2]||n[0].length>0)&&ht(n);const B=[Pt,Ct,Nt],D=[];function Z(f,E){return f[2]?f[0].length>0?1:2:0}return $=Z(n),u=D[$]=B[$](n),{c(){G(t.$$.fragment),a=N(),l=S("div"),e=S("div"),c=S("h1"),i=K(r),o=N(),d&&d.c(),b=N(),u.c(),this.h()},l(f){J(t.$$.fragment,f),a=C(f),l=V(f,"DIV",{class:!0});var E=v(l);e=V(E,"DIV",{class:!0});var L=v(e);c=V(L,"H1",{});var h=v(c);i=Q(h,r),h.forEach(_),o=C(L),d&&d.l(L),L.forEach(_),b=C(E),u.l(E),E.forEach(_),this.h()},h(){s(e,"class","title-bar svelte-1ijb158"),s(l,"class","single-layout")},m(f,E){O(t,f,E),A(f,a,E),A(f,l,E),p(l,e),p(e,c),p(c,i),p(e,o),d&&d.m(e,null),p(l,b),D[$].m(l,null),M=!0},p(f,[E]){const L={};E&2&&(L.title=f[1]("pages.notifications")),t.$set(L),(!M||E&2)&&r!==(r=f[1]("pages.notifications")+"")&&Et(i,r),!f[2]||f[0].length>0?d?(d.p(f,E),E&5&&I(d,1)):(d=ht(f),d.c(),I(d,1),d.m(e,null)):d&&(q(),H(d,1,1,()=>{d=null}),Y());let h=$;$=Z(f),$===h?D[$].p(f,E):(q(),H(D[h],1,1,()=>{D[h]=null}),Y(),u=D[$],u?u.p(f,E):(u=D[$]=B[$](f),u.c()),I(u,1),u.m(l,null))},i(f){M||(I(t.$$.fragment,f),I(d),I(u),M=!0)},o(f){H(t.$$.fragment,f),H(d),H(u),M=!1},d(f){U(t,f),f&&_(a),f&&_(l),d&&d.d(),D[$].d()}}}function mt(n,t,a,l,e,c,r){try{var i=n[c](r),o=i.value}catch(b){a(b);return}i.done?t(o):Promise.resolve(o).then(l,e)}function vt(n){return function(){var t=this,a=arguments;return new Promise(function(l,e){var c=n.apply(t,a);function r(o){mt(c,l,e,r,i,"next",o)}function i(o){mt(c,l,e,r,i,"throw",o)}r(void 0)})}}function At(n,t,a){let l,e,c;W(n,x,u=>a(0,l=u)),W(n,Bt,u=>a(1,e=u)),W(n,Tt,u=>a(2,c=u)),Dt(vt(function*(){yield jt()}));function r(u){return i.apply(this,arguments)}function i(){return i=vt(function*(u){yield X("DELETE","notification/"+u),nt(x,l=l.filter(M=>M.id!==u),l)}),i.apply(this,arguments)}return[l,e,c,r,async()=>{await X("DELETE",`notifications?ids=${JSON.stringify(l.map(u=>u.id))}`),nt(x,l=[],l)},async u=>{await r(u.id)},async(u,M)=>{try{await X(u.action_route[0],u.action_route[1])}catch{console.warn("Could not perform notification action.")}await r(M.id)}]}class Xt extends gt{constructor(t){super(),bt(this,t,At,zt,$t,{})}}export{Xt as default};
