import{S as de,i as me,s as pe,e as I,c as S,a as A,d as b,b as j,g as X,U as Q,k as y,t as x,V as W,m as H,h as ee,I as d,j as te,w as U,x as Y,y as F,n as ue,o as J,p as _e,q as B,B as G,a2 as he,Y as ge,ai as ve,v as be,a3 as we,a5 as $e,a6 as ke,a7 as je}from"./index-d77dc8df.js";import{t as re}from"./tags-d87340e0.js";import{a as oe}from"./ago-a4836e85.js";import{s as K}from"./number-ce492f5e.js";import{B as Ee}from"./Button-e3650c0e.js";import{P as Pe}from"./ProfilePicture-a9d2d293.js";import{D as Ie}from"./download-f139143f.js";import{C as Se}from"./calendar-d27b5f4f.js";import{H as Ae}from"./heart-4550539d.js";import{b as De}from"./formatters-45a0f877.js";const Ve=s=>({}),ne=s=>({});function ie(s,e,a){const t=s.slice();return t[16]=e[a],t}function ye(s){let e,a=s[3]("generic.byline",{values:{author:s[4]}})+"",t;return{c(){e=I("a"),this.h()},l(l){e=S(l,"A",{href:!0,class:!0});var r=A(e);r.forEach(b),this.h()},h(){j(e,"href",t="/user/"+s[4]),j(e,"class","project-card__main__info__author svelte-1mxsai7")},m(l,r){X(l,e,r),e.innerHTML=a},p(l,r){r&8&&a!==(a=l[3]("generic.byline",{values:{author:l[4]}})+"")&&(e.innerHTML=a)},d(l){l&&b(e)}}}function fe(s){let e,a,t=(re[s[16]]||"?")+"",l,r=s[3](`tags.${s[16]}`)+"",p,w;return{c(){e=I("div"),a=new Q(!1),l=y(),p=x(r),w=y(),this.h()},l(c){e=S(c,"DIV",{class:!0});var u=A(e);a=W(u,!1),l=H(u),p=ee(u,r),w=H(u),u.forEach(b),this.h()},h(){a.a=l,j(e,"class","tags__tag")},m(c,u){X(c,e,u),a.m(t,e),d(e,l),d(e,p),d(e,w)},p(c,u){u&1&&t!==(t=(re[c[16]]||"?")+"")&&a.p(t),u&9&&r!==(r=c[3](`tags.${c[16]}`)+"")&&te(p,r)},d(c){c&&b(e)}}}function He(s){let e;const a=s[11].actions,t=we(a,s,s[10],ne);return{c(){t&&t.c()},l(l){t&&t.l(l)},m(l,r){t&&t.m(l,r),e=!0},p(l,r){t&&t.p&&(!e||r&1024)&&$e(t,a,l,l[10],e?je(a,l[10],r,Ve):ke(l[10]),ne)},i(l){e||(B(t,l),e=!0)},o(l){J(t,l),e=!1},d(l){t&&t.d(l)}}}function Me(s){var M;let e,a,t,l,r,p=s[3]("stats.downloads",{values:{downloads:K(s[0].downloads)}})+"",w,c,u,N,h,m=s[3]("stats.followers",{values:{followers:K((M=s[0].followers)!=null?M:s[0].follows)}})+"",D,$,P,L,E,T=s[3]("stats.updated",{values:{ago:oe(s[5])}})+"",o,g;t=new Ie({}),u=new Ae({}),P=new Se({});let _=s[1]&&ce(s);return{c(){e=I("div"),a=I("span"),U(t.$$.fragment),l=y(),r=new Q(!1),w=y(),c=I("span"),U(u.$$.fragment),N=y(),h=new Q(!1),D=y(),$=I("span"),U(P.$$.fragment),L=y(),E=new Q(!1),o=y(),_&&_.c(),this.h()},l(f){e=S(f,"DIV",{class:!0});var n=A(e);a=S(n,"SPAN",{class:!0});var q=A(a);Y(t.$$.fragment,q),l=H(q),r=W(q,!1),q.forEach(b),w=H(n),c=S(n,"SPAN",{class:!0});var V=A(c);Y(u.$$.fragment,V),N=H(V),h=W(V,!1),V.forEach(b),D=H(n),$=S(n,"SPAN",{class:!0});var O=A($);Y(P.$$.fragment,O),L=H(O),E=W(O,!1),O.forEach(b),o=H(n),_&&_.l(n),n.forEach(b),this.h()},h(){r.a=null,j(a,"class","stat"),h.a=null,j(c,"class","stat"),E.a=null,j($,"class","stat"),j(e,"class","actions")},m(f,n){X(f,e,n),d(e,a),F(t,a,null),d(a,l),r.m(p,a),d(e,w),d(e,c),F(u,c,null),d(c,N),h.m(m,c),d(e,D),d(e,$),F(P,$,null),d($,L),E.m(T,$),d(e,o),_&&_.m(e,null),g=!0},p(f,n){var q;(!g||n&9)&&p!==(p=f[3]("stats.downloads",{values:{downloads:K(f[0].downloads)}})+"")&&r.p(p),(!g||n&9)&&m!==(m=f[3]("stats.followers",{values:{followers:K((q=f[0].followers)!=null?q:f[0].follows)}})+"")&&h.p(m),(!g||n&8)&&T!==(T=f[3]("stats.updated",{values:{ago:oe(f[5])}})+"")&&E.p(T),f[1]?_?(_.p(f,n),n&2&&B(_,1)):(_=ce(f),_.c(),B(_,1),_.m(e,null)):_&&(ue(),J(_,1,1,()=>{_=null}),_e())},i(f){g||(B(t.$$.fragment,f),B(u.$$.fragment,f),B(P.$$.fragment,f),B(_),g=!0)},o(f){J(t.$$.fragment,f),J(u.$$.fragment,f),J(P.$$.fragment,f),J(_),g=!1},d(f){f&&b(e),G(t),G(u),G(P),_&&_.d()}}}function ce(s){let e,a;return e=new Ee({props:{color:s[2]?"danger":"brand",label:s[2]?"Remove from pack":"Add to pack",evenPadding:!0}}),e.$on("click",s[7]),{c(){U(e.$$.fragment)},l(t){Y(e.$$.fragment,t)},m(t,l){F(e,t,l),a=!0},p(t,l){const r={};l&4&&(r.color=t[2]?"danger":"brand"),l&4&&(r.label=t[2]?"Remove from pack":"Add to pack"),e.$set(r)},i(t){a||(B(e.$$.fragment,t),a=!0)},o(t){J(e.$$.fragment,t),a=!1},d(t){G(e,t)}}}function Ne(s){let e,a,t,l,r,p,w,c,u=s[0].title+"",N,h,m,D,$=s[0].description+"",P,L,E,T,o,g,_;l=new Pe({props:{src:s[0].icon_url,size:"md"}});let M=s[4]&&ye(s),f=s[0].categories,n=[];for(let i=0;i<f.length;i+=1)n[i]=fe(ie(s,f,i));const q=[Me,He],V=[];function O(i,k){return i[8].actions?1:0}return o=O(s),g=V[o]=q[o](s),{c(){e=I("div"),a=I("div"),t=I("a"),U(l.$$.fragment),r=y(),p=I("div"),w=I("span"),c=I("a"),N=x(u),h=y(),M&&M.c(),m=y(),D=I("p"),P=x($),L=y(),E=I("div");for(let i=0;i<n.length;i+=1)n[i].c();T=y(),g.c(),this.h()},l(i){e=S(i,"DIV",{class:!0});var k=A(e);a=S(k,"DIV",{class:!0});var C=A(a);t=S(C,"A",{href:!0,tabindex:!0});var z=A(t);Y(l.$$.fragment,z),z.forEach(b),r=H(C),p=S(C,"DIV",{class:!0});var v=A(p);w=S(v,"SPAN",{});var R=A(w);c=S(R,"A",{class:!0,href:!0});var ae=A(c);N=ee(ae,u),ae.forEach(b),h=H(R),M&&M.l(R),R.forEach(b),m=H(v),D=S(v,"P",{class:!0});var le=A(D);P=ee(le,$),le.forEach(b),L=H(v),E=S(v,"DIV",{class:!0});var se=A(E);for(let Z=0;Z<n.length;Z+=1)n[Z].l(se);se.forEach(b),v.forEach(b),C.forEach(b),T=H(k),g.l(k),k.forEach(b),this.h()},h(){j(t,"href",s[6]),j(t,"tabindex","-1"),j(c,"class","title"),j(c,"href",s[6]),j(D,"class","summary"),j(E,"class","tags"),j(p,"class","project-card__main__info svelte-1mxsai7"),j(a,"class","project-card__main svelte-1mxsai7"),j(e,"class","card project-card svelte-1mxsai7")},m(i,k){X(i,e,k),d(e,a),d(a,t),F(l,t,null),d(a,r),d(a,p),d(p,w),d(w,c),d(c,N),d(w,h),M&&M.m(w,null),d(p,m),d(p,D),d(D,P),d(p,L),d(p,E);for(let C=0;C<n.length;C+=1)n[C].m(E,null);d(e,T),V[o].m(e,null),_=!0},p(i,[k]){const C={};if(k&1&&(C.src=i[0].icon_url),l.$set(C),(!_||k&1)&&u!==(u=i[0].title+"")&&te(N,u),i[4]&&M.p(i,k),(!_||k&1)&&$!==($=i[0].description+"")&&te(P,$),k&9){f=i[0].categories;let v;for(v=0;v<f.length;v+=1){const R=ie(i,f,v);n[v]?n[v].p(R,k):(n[v]=fe(R),n[v].c(),n[v].m(E,null))}for(;v<n.length;v+=1)n[v].d(1);n.length=f.length}let z=o;o=O(i),o===z?V[o].p(i,k):(ue(),J(V[z],1,1,()=>{V[z]=null}),_e(),g=V[o],g?g.p(i,k):(g=V[o]=q[o](i),g.c()),B(g,1),g.m(e,null))},i(i){_||(B(l.$$.fragment,i),B(g),_=!0)},o(i){J(l.$$.fragment,i),J(g),_=!1},d(i){i&&b(e),G(l),M&&M.d(),he(n,i),V[o].d()}}}function Ce(s,e,a){let t,l;ge(s,De,o=>a(3,l=o));let{$$slots:r={},$$scope:p}=e;const w=ve(r);var c,u,N,h=[];let{project:m}=e,{builder:D=!1}=e;var $=(c=m.author)!=null?c:"",P=(u=m.id)!=null?u:m.project_id,L=(N=m.date_modified)!=null?N:m.updated,E="/"+m.project_type+"/"+(m.slug||P);be(()=>{a(9,h=JSON.parse(localStorage.getItem("pack_mods"))||[]),a(2,t=h.filter(o=>o.slug===m.slug).length>0)});var T=()=>{h.includes(m)?a(9,h=h.filter(o=>o!==m)):h.push(m),a(2,t=h.filter(o=>o.slug===m.slug).length>0),localStorage.setItem("pack_mods",JSON.stringify(h))};return s.$$set=o=>{"project"in o&&a(0,m=o.project),"builder"in o&&a(1,D=o.builder),"$$scope"in o&&a(10,p=o.$$scope)},s.$$.update=()=>{s.$$.dirty&513&&a(2,t=h.filter(o=>o.slug===m.slug).length>0)},[m,D,t,l,$,L,E,T,w,h,p,r]}class Fe extends de{constructor(e){super(),me(this,e,Ce,Ne,pe,{project:0,builder:1})}}export{Fe as P};
