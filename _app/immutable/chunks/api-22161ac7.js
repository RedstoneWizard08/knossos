var C=Object.defineProperty;var m=Object.getOwnPropertySymbols;var b=Object.prototype.hasOwnProperty,g=Object.prototype.propertyIsEnumerable;var w=(n,r,e)=>r in n?C(n,r,{enumerable:!0,configurable:!0,writable:!0,value:e}):n[r]=e,k=(n,r)=>{for(var e in r||(r={}))b.call(r,e)&&w(n,e,r[e]);if(m)for(var e of m(r))g.call(r,e)&&w(n,e,r[e]);return n};import{c as x,a as A}from"./axios-9833b136.js";import{w as z}from"./index-68131452.js";import{aa as u}from"./index-d77dc8df.js";var P=x.exports;const c=z(0);function D(n,r,e=null,l={token:"",fetch:null}){return new Promise(async(p,o)=>{try{c.set(u(c)+1);const s={method:n,headers:{}},t=u(A)||l.token;t&&(s.headers.Authorization=t),(e==null?void 0:e.type)&&(e==null?void 0:e.lastModified)&&(e==null?void 0:e.size)?s.headers["Content-Type"]=e.type:e&&!e.entries&&(s.body=e);let i;const f="https://api.modrinth.com/v2/".toString();try{i=await(l.fetch||fetch)(f+(f.endsWith("/")?"":"/")+r,s)}catch(y){return o(y)}if(c.set(u(c)-1),!i.ok)return o(i);let h={};if(i.status!==204)try{h=await i.json()}catch{return console.error("Could not parse API response"),o("Could not parse!")}return p(h)}catch(s){return o("An unknown error occured: "+s)}})}function I(n,r,e){return new Promise(async(l,p)=>{try{c.set(u(c)+1);const o={headers:{}},s=u(A);s&&(o.headers.Authorization=s),(e==null?void 0:e.type)&&(e==null?void 0:e.lastModified)&&(e==null?void 0:e.size)?o.headers["Content-Type"]=e.type:e&&!e.entries&&(o.headers["Content-Type"]="multipart/form-data");let t;const i="https://api.modrinth.com/v2/".toString(),f=new FormData;f.append("data",JSON.stringify(e));try{t=await P(i+(i.endsWith("/")?"":"/")+r,k({method:n,data:f},o))}catch(y){return p(y)}if(c.set(u(c)-1),!t.ok)return p(t);let h={};if(t.status!==204)try{h=await t.json()}catch{return console.error("Could not parse API response"),p("Could not parse!")}return l(h)}catch(o){return p("An unknown error occured: "+o)}})}export{I as a,P as b,c as f,D as s};
